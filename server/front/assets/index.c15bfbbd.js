import{r as A,a as e,A as M,g as B,j as u,F as E,a3 as z,a9 as T,n as q}from"./index.64257940.js";import{R as H}from"./row.04cc9265.js";import{H as U}from"./Helmet.90e2ca49.js";import{i as L}from"./index.esm.a8235609.js";import{i as c}from"./use-immer.module.72e4ecef.js";import{B as b}from"./button.ca276c4e.js";import{a as R,A as G,b as W,c as J,d as K,e as Q,C as X}from"./User.bd84eabb.js";import"./workbenchContext.4d536977.js";/* empty css               */import{I as V}from"./index.90bee82c.js";import{s as w}from"./Common.module.6633066f.js";import{I as x}from"./index.93b57069.js";import"./index.61964446.js";import{F as l}from"./index.9d56ca15.js";import{M as _}from"./index.46a9404e.js";import{D as Y,M as Z}from"./index.e257c064.js";import{a as ee,E as te}from"./index.59af7e77.js";import{I as g}from"./index.2b25ba57.js";import{C as re}from"./index.dfbe5777.js";import{C as ue}from"./index.f9fc8558.js";import{A as ae}from"./DB.b1495613.js";import{A as oe}from"./OutLine.26645e32.js";import{A as se}from"./Role.76867b80.js";import{A as ie}from"./UserDetails.4a4ace43.js";import{C as ne}from"./index.39cec35d.js";import{R as N}from"./Tree.0082570b.js";import{S as le}from"./index.4ef503cf.js";import{T as O}from"./Table.0fc674a8.js";import"./iconUtil.71342ca5.js";import"./Pagination.0b310a33.js";import"./index.70ebfd77.js";import{T as ce}from"./index.c6a78d56.js";import{s as C}from"./subs.module.53f6f584.js";import{C as me}from"./CaretRightOutlined.3d61ece4.js";import{A as de}from"./Pannel.87ebb569.js";import"./styleChecker.9486324a.js";import"./context.4fcda71f.js";import"./Portal.bf2e5144.js";import"./type.4482a080.js";import"./_baseIsEqual.ae1f3f6e.js";import"./omit.173224d8.js";import"./responsiveObserve.a761adf9.js";import"./index.d4e5ccca.js";import"./index.d31bb1fc.js";import"./index.525ef567.js";/* empty css               *//* empty css               */import"./index.5b2f5049.js";import"./Dropdown.66094b27.js";import"./Overflow.ff04d686.js";import"./statusUtils.e7207d24.js";import"./PlusOutlined.3088ee84.js";import"./index.396a50a9.js";import"./index.2fd29b41.js";import"./EyeOutlined.8d71b64e.js";import"./css.7dd30b7b.js";import"./DialogWrap.ed68ac9f.js";import"./pickAttrs.91b30b21.js";import"./RightOutlined.ce6e99f7.js";import"./Editor.88c5e82e.js";import"./main.5d92847d.js";import"./50x.81c416c8.js";import"./SearchOutlined.d2d234c2.js";import"./Sider.4bd14ece.js";import"./OneToOneOutlined.ac8b8691.js";import"./index.21d0aee3.js";import"./_createAggregator.7c8a2c66.js";import"./identity.af5bbf98.js";import"./get.ab779695.js";import"./isSymbol.d728fe31.js";import"./constant.0f5b1976.js";import"./DeleteOutlined.ab1eeec0.js";import"./PlusCircleOutlined.4c78356c.js";import"./ConnectorModal.a9d2674c.js";import"./clsx.m.70024c70.js";import"./index.114f7a19.js";import"./CopyOutlined.bfbb880d.js";import"./outLine.module.07c72bff.js";import"./tslib.es6.d40f4976.js";import"./index.e939beeb.js";import"./index.e073bbb6.js";import"./path.02380b0b.js";import"./isArrayLikeObject.9676d780.js";import"./stackblitz.d6583d31.js";import"./dayjs.min.9104a23a.js";import"./DoubleRightOutlined.d12d812f.js";import"./index.5c556af0.js";import"./conductUtil.91a30912.js";import"./useForceUpdate.cd5983fc.js";/* empty css              */var pe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};const he=pe;var $=function(t,i){return e(M,{...B(B({},t),{},{ref:i,icon:he})})};$.displayName="LockOutlined";const fe=A.exports.forwardRef($);var Ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M705.6 124.9a8 8 0 00-11.6 7.2v64.2c0 5.5 2.9 10.6 7.5 13.6a352.2 352.2 0 0162.2 49.8c32.7 32.8 58.4 70.9 76.3 113.3a355 355 0 0127.9 138.7c0 48.1-9.4 94.8-27.9 138.7a355.92 355.92 0 01-76.3 113.3 353.06 353.06 0 01-113.2 76.4c-43.8 18.6-90.5 28-138.5 28s-94.7-9.4-138.5-28a353.06 353.06 0 01-113.2-76.4A355.92 355.92 0 01184 650.4a355 355 0 01-27.9-138.7c0-48.1 9.4-94.8 27.9-138.7 17.9-42.4 43.6-80.5 76.3-113.3 19-19 39.8-35.6 62.2-49.8 4.7-2.9 7.5-8.1 7.5-13.6V132c0-6-6.3-9.8-11.6-7.2C178.5 195.2 82 339.3 80 506.3 77.2 745.1 272.5 943.5 511.2 944c239 .5 432.8-193.3 432.8-432.4 0-169.2-97-315.7-238.4-386.7zM480 560h64c4.4 0 8-3.6 8-8V88c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v464c0 4.4 3.6 8 8 8z"}}]},name:"poweroff",theme:"outlined"};const Ae=Ce;var S=function(t,i){return e(M,{...B(B({},t),{},{ref:i,icon:Ae})})};S.displayName="PoweroffOutlined";const Ee=A.exports.forwardRef(S);function Fe(){return u("div",{className:"flex flex-col items-center justify-center h-full",children:[e(V,{src:"/assets/404-2.png",height:151,width:173,alt:"50x",preview:!1}),e("div",{className:"my-8 ml-2 text-sm text-[#AFB0B4CC]",children:"\u6B63\u5728\u52AA\u529B\u5F00\u53D1\u4E2D\uFF5E"})]})}const ve=[{id:1,key:1,name:"Alean",triggerEvents:["\u4FEE\u6539\u5BC6\u7801","\u521B\u5EFA\u7528\u6237"],status:"\u6B63\u5E38",createTime:"2022-06-27 15:47:14"},{id:2,key:2,name:"Alean",triggerEvents:["\u4FEE\u6539\u5BC6\u7801","\u521B\u5EFA\u7528\u6237"],status:"\u6B63\u5E38",createTime:"2022-06-27 15:47:14"}],xe=[{label:"\u4FEE\u6539\u7528\u6237\u5BC6\u7801",value:"Apple"},{label:"\u521B\u5EFA\u7528\u6237",value:"Pear"},{label:"\u6210\u529F\u9A8C\u8BC1\u90AE\u7BB1",value:"Orange"},{label:"\u7528\u6237\u88AB\u89E3\u9664\u9501\u5B9A",value:"Apple"},{label:"\u4FEE\u6539\u7528\u6237\u4FE1\u606F",value:"Pear"},{label:"\u5220\u9664\u7528\u6237",value:"Orange"},{label:"\u7528\u6237\u88AB\u53D6\u6D88\u5F52\u6863",value:"Apple"},{label:"\u7528\u6237\u88AB\u9501\u5B9A",value:"Pear"},{label:"\u7528\u6237\u793E\u4EA4\u8D26\u53F7\u7ED1\u5B9A",value:"Orange"}];function ge(){const[r]=l.useForm(),[t,i]=c(""),[s,d]=c(!1),[o,f]=c(ve),F=a=>{f(o.concat({...a,key:o.length+1}))},p=a=>{i(a)},m=[{title:"\u540D\u79F0",dataIndex:"name",key:"name"},{title:"\u89E6\u53D1\u4E8B\u4EF6",dataIndex:"triggerEvents",key:"triggerEvents",render:a=>e(E,{children:a.map(n=>e(ce,{color:"#FA6400",children:n},n))})},{title:"\u72B6\u6001",dataIndex:"status",key:"status",render:a=>e(le,{checked:a==0,className:`${C["switch-edit-btn"]}`,size:"small",checkedChildren:"\u5F00",unCheckedChildren:"\u5173"})},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"create_time",key:"create_time"},{title:"\u64CD\u4F5C",key:4,render:a=>e("span",{className:"pl-0 text-red-500",onClick:()=>{d(!0)},children:"\u67E5\u770B\u8BE6\u60C5"})}];return u(E,{children:[u("div",{className:"flex justify-between items-center mb-4",children:[u("div",{children:[u("span",{className:C["auth-head"],children:[e(z,{}),e("span",{className:"ml-3",children:"webhook\u5141\u8BB8\u4F60\u5BF9\u7528\u6237\u6CE8\u518C\u3001\u767B\u5F55\u884C\u4E3A\u8FDB\u884C\u76D1\u542C\uFF0C\u4ECE\u800C\u5BF9\u5176\u505A\u4E00\u4E9B\u81EA\u5B9A\u4E49\u5904\u7406\uFF0C\u70B9\u6B64"})]}),e("span",{className:"text-red-500 ml-2",children:"\u4E86\u89E3\u66F4\u591A"})]}),e(b,{className:"px-4 py-0 h-7.5",onClick:()=>{d(!0)},children:e("span",{className:"text-sm text-gray",children:"\u6DFB\u52A0"})})]}),e(_,{mask:!1,title:"\u6DFB\u52A0webhook",style:{top:"200px"},bodyStyle:{width:"549px",height:"480px",overflow:"auto",margin:"10px auto"},width:549,transitionName:"",open:s,onOk:()=>d(!1),onCancel:()=>d(!1),okText:e(b,{className:C["save-btn"],onClick:()=>r.submit(),children:e("span",{children:"\u786E\u5B9A"})}),okType:"text",cancelText:"\u53D6\u6D88",children:u(l,{name:"hooksList",form:r,labelCol:{span:6},wrapperCol:{span:18},initialValues:{remember:!0},onFinish:a=>void F(a),autoComplete:"off",labelAlign:"left",className:C["dialog-form"],children:[e(l.Item,{label:"\u540D\u79F0",name:"name",rules:[{required:!0,message:"\u8F93\u5165\u4E0D\u80FD\u4E3A\u7A7A"}],children:e(x,{})}),e(l.Item,{label:"\u56DE\u8C03\u94FE\u63A5",name:"triggerEvents",rules:[{required:!0,message:"\u8F93\u5165\u4E0D\u80FD\u4E3A\u7A7A"}],children:e(x,{})}),e(l.Item,{label:"\u8BF7\u6C42\u6570\u636E\u683C\u5F0F",name:"triggerEvents",rules:[{required:!0,message:"\u8F93\u5165\u4E0D\u80FD\u4E3A\u7A7A"}],children:u(N.Group,{onChange:a=>p(a.target.value),value:t,children:[e(N,{value:1,className:"mr-180",children:"\u9759\u6001"}),e(N,{value:2,children:"\u52A8\u6001"})]})}),e(l.Item,{label:"\u8BF7\u6C42\u5BC6\u94A5",name:"triggerEvents",rules:[{required:!0,message:"\u8F93\u5165\u4E0D\u80FD\u4E3A\u7A7A"}],children:e(x,{})}),e(l.Item,{label:"\u89E6\u53D1\u4E8B\u4EF6",name:"triggerEvents",rules:[{required:!0,message:"\u8F93\u5165\u4E0D\u80FD\u4E3A\u7A7A"}],children:e(ne.Group,{options:xe})})]})}),e("div",{className:C["role-container-table"],children:o.length>0?e(O,{columns:m,dataSource:o,rowClassName:(a,n)=>n%2===1?C["role-table"]:"",pagination:!1}):e(O,{columns:m,dataSource:[],rowClassName:(a,n)=>n%2===1?C["role-table"]:"",pagination:!1})})]})}const Be=e(Z,{items:[{key:"0",label:u(E,{children:[e(fe,{className:"mr-2"}),e("span",{children:"\u9501\u5B9A\u8D26\u53F7"})]})},{key:"1",label:u(E,{children:[e(g,{type:"icon-shanchu",className:"mr-2"}),e("span",{children:"\u5220\u9664\u8D26\u53F7"})]})},{key:"2",label:u(E,{children:[e(Ee,{className:"mr-2"}),e("span",{children:"\u5F3A\u5236\u4E0B\u7EBF"})]})}]});function be({showTopType:r,handleTopToggleDesigner:t}){const[i,s]=c(""),[d,o]=c(""),{authUserCurr:f}=A.exports.useContext(R),[F,p]=c(!1),[m]=l.useForm(),a=()=>{console.log("handleIconClick")};A.exports.useEffect(()=>{switch(r){case"outline":o("\u6982\u89C8"),s(e(oe,{}));break;case"userManage":o("\u7528\u6237\u7BA1\u7406"),s(e(G,{handleTopToggleDesigner:t}));break;case"userDetails":o("\u7528\u6237\u8BE6\u60C5"),s(e(ie,{}));break;case"roleManage":o("\u89D2\u8272\u7BA1\u7406"),s(e(se,{}));break;case"log":o("\u64CD\u4F5C\u65E5\u5FD7"),s(e(Fe,{}));break;case"login":o("\u767B\u5165\u4F53\u9A8C"),s(e(te,{handleTopToggleDesigner:t}));break;case"connect":o("\u8FDE\u63A5\u5668"),s(e(re,{handleTopToggleDesigner:t}));break;case"connectDetails":o("\u8FDE\u63A5\u5668\u8BE6\u60C5"),s(e(ue,{handleTopToggleDesigner:t}));break;case"webhooks":o("webhooks"),s(e(ge,{}));break;case"db":o("\u6570\u636E\u5E93"),s(e(ae,{}));break;default:s(e(ee,{}));break}},[r]);function n(){p(!0)}const v=()=>{m.submit(),p(!1)},k=D=>{T.put("/oauth/password",{id:f.id,password:D.password})};return u(E,{children:[u("div",{className:"pl-6 pr-6 pt-6"+(r==="outline"?" bg-[#FDFDFDFF]":""),children:[r!=="userDetails"?u("div",{className:"flex justify-start items-center mb-2.5 ",children:[r==="outline"?u("div",{className:"flex-grow",children:[e("div",{className:"font-bold text-lg leading-6",children:"\u6982\u89C8"}),e("div",{className:"mt1.5 text-xs ",style:{color:"rgba(175,176,180,0.6)"},children:"\u67E5\u770B\u6240\u4EE5\u5E94\u7528\u7684\u6570\u636E\u60C5\u51B5"})]}):u("span",{className:"text-lg flex-grow font-bold",children:["\u8EAB\u4EFD\u9A8C\u8BC1",u("span",{className:"text-base flex-grow font-bold",children:[e(me,{})," ",d]})]}),e(g,{type:"icon-lianxi",className:"text-[22px]",onClick:a}),e(g,{type:"icon-wenjian1",className:"text-[22px] ml-4",onClick:a}),e(g,{type:"icon-bangzhu",className:"text-[22px] ml-4",onClick:a})]}):u("div",{className:"flex justify-between items-center mt-9 mb-5",children:[u("div",{className:"flex items-center",children:[e(V,{src:"/assets/auth.svg",alt:"\u5934\u50CF",width:45,height:45,preview:!1}),u("div",{className:`ml-2 ${w["user-info"]}`,children:[e("span",{children:f.name}),u("p",{children:["ID\uFF1A",f.id]})]})]}),u("div",{children:[e(Y,{overlay:Be,placement:"bottom",children:e(b,{className:`${w["connect-check-btn-common"]} w-15 ml-4`,children:e("span",{className:"text-sm text-gray",children:"\u66F4\u591A"})})}),e(b,{className:`${w["save-btn"]} ml-4`,onClick:n,children:"\u91CD\u7F6E\u5BC6\u7801"})]})]}),i]}),e(_,{title:"\u91CD\u7F6E\u5BC6\u7801",open:F,onOk:v,onCancel:()=>p(!1),cancelText:"\u53D6\u6D88",okText:"\u786E\u8BA4",children:e(l,{form:m,name:"basic",labelCol:{span:4},wrapperCol:{span:19},initialValues:{},onFinish:k,autoComplete:"off",children:e(l.Item,{label:"\u5BC6\u7801",name:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801!"}],children:e(x.Password,{size:"small"})})})})]})}function ke(r,t){switch(t.type){case"fetched":return t.data;case"selected":return r;case"added":return[...r,t.data];case"changed":return r.map(i=>i.id===t.data.id?t.data:i);case"deleted":return r.filter(i=>i.id!==t.data.id);default:return r}}function De(r={},t){switch(t.type){case"setCurrentConnector":return{...r,currentConnector:t.payload};case"fetchConnector":return{...r,connectors:t.payload};default:return r}}const we="_divider_1x9rd_16",P={"col-left":"_col-left_1x9rd_1",divider:we};function cr(){const[r,t]=A.exports.useReducer(ke,[]),[i,s]=A.exports.useReducer(De,{currentConnector:null,connectors:[]}),[d,o]=c("data"),[f,F]=c("userManage"),[p,m]=c(null),[a,n]=c({}),{data:v}=L("/auth",q);A.exports.useEffect(()=>{v&&t({type:"fetched",data:v})},[v]);const k=h=>{h.name==""?o("edit"):o("data"),m(h.id)},D=(h,I)=>{o(h),I&&m(I)},y=h=>{F(h.type)},j=r.find(h=>h.id===p);return e(W.Provider,{value:r,children:e(J.Provider,{value:t,children:e(K.Provider,{value:{currAuthProvItemId:p,setCurrAuthProvItemId:m},children:e(Q.Provider,{value:{handleBottomToggleDesigner:D},children:e(X.Provider,{value:{connector:i,connectorDispatch:s},children:u(R.Provider,{value:{authUserCurr:a,setAuthUserCurr:n},children:[e(U,{children:e("title",{children:"FireBoom - \u8BA4\u8BC1\u9274\u6743"})}),u(H,{className:"h-[calc(100vh_-_36px)]",children:[e("div",{className:`flex-1 ${P["col-left"]}`,children:e(de,{onClickItem:k,handleTopToggleDesigner:y})}),e("div",{className:P.divider}),e("div",{className:"flex-1",children:e(be,{handleTopToggleDesigner:y,showBottomType:d,showTopType:f,content:j})})]})]})})})})})})}export{cr as default};
