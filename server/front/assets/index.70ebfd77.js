import{r as b,C as F,_ as x,a as o,q as M,s as T,v as W,c as d,e as p,j as N,x as $,E as q}from"./index.64257940.js";import{d as B}from"./Tree.0082570b.js";import{o as R}from"./omit.173224d8.js";import{i as P,c as _}from"./button.ca276c4e.js";import{t as V}from"./type.4482a080.js";var A=globalThis&&globalThis.__rest||function(i,a){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&a.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)a.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t};V("small","default","large");var g=null;function G(i,a){var t=a.indicator,e="".concat(i,"-dot");return t===null?null:P(t)?_(t,{className:d(t.props.className,e)}):P(g)?_(g,{className:d(g.props.className,e)}):N("span",{className:d(e,"".concat(i,"-dot-spin")),children:[o("i",{className:"".concat(i,"-dot-item")}),o("i",{className:"".concat(i,"-dot-item")}),o("i",{className:"".concat(i,"-dot-item")}),o("i",{className:"".concat(i,"-dot-item")})]})}function H(i,a){return!!i&&!!a&&!isNaN(Number(a))}var E=function(i){M(t,i);var a=T(t);function t(e){var n;W(this,t),n=a.call(this,e),n.debouncifyUpdateSpinning=function(l){var s=l||n.props,m=s.delay;m&&(n.cancelExistingSpin(),n.updateSpinning=B(n.originalUpdateSpinning,m))},n.updateSpinning=function(){var l=n.props.spinning,s=n.state.spinning;s!==l&&n.setState({spinning:l})},n.renderSpin=function(l){var s,m=l.direction,c=n.props,r=c.spinPrefixCls,w=c.className,h=c.size,y=c.tip,j=c.wrapperClassName,k=c.style,D=A(c,["spinPrefixCls","className","size","tip","wrapperClassName","style"]),f=n.state.spinning,z=d(r,(s={},p(s,"".concat(r,"-sm"),h==="small"),p(s,"".concat(r,"-lg"),h==="large"),p(s,"".concat(r,"-spinning"),f),p(s,"".concat(r,"-show-text"),!!y),p(s,"".concat(r,"-rtl"),m==="rtl"),s),w),S=R(D,["spinning","delay","indicator","prefixCls"]),C=N("div",{...S,style:k,className:z,"aria-live":"polite","aria-busy":f,children:[G(r,n.props),y?o("div",{className:"".concat(r,"-text"),children:y}):null]});if(n.isNestedPattern()){var I=d("".concat(r,"-container"),p({},"".concat(r,"-blur"),f));return N("div",{...S,className:d("".concat(r,"-nested-loading"),j),children:[f&&o("div",{children:C},"loading"),o("div",{className:I,children:n.props.children},"container")]})}return C};var u=e.spinning,v=e.delay,U=H(u,v);return n.state={spinning:u&&!U},n.originalUpdateSpinning=n.updateSpinning,n.debouncifyUpdateSpinning(e),n}return $(t,[{key:"componentDidMount",value:function(){this.updateSpinning()}},{key:"componentDidUpdate",value:function(){this.debouncifyUpdateSpinning(),this.updateSpinning()}},{key:"componentWillUnmount",value:function(){this.cancelExistingSpin()}},{key:"cancelExistingSpin",value:function(){var n=this.updateSpinning;n&&n.cancel&&n.cancel()}},{key:"isNestedPattern",value:function(){return!!(this.props&&typeof this.props.children<"u")}},{key:"render",value:function(){return o(q,{children:this.renderSpin})}}]),t}(b.exports.Component);E.defaultProps={spinning:!0,size:"default",wrapperClassName:""};var O=function(a){var t=a.prefixCls,e=b.exports.useContext(F),n=e.getPrefixCls,u=n("spin",t),v=x(x({},a),{spinPrefixCls:u});return o(E,{...v})};O.setDefaultIndicator=function(i){g=i};const Y=O;export{Y as S};
