var et=Object.defineProperty;var tt=(e,r,i)=>r in e?et(e,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[r]=i;var A=(e,r,i)=>(tt(e,typeof r!="symbol"?r+"":r,i),i);import{m as nt}from"./index.e073bbb6.js";import"./index.64257940.js";import"./button.ca276c4e.js";import"./omit.173224d8.js";import"./type.4482a080.js";import"./Tree.0082570b.js";import"./_baseIsEqual.ae1f3f6e.js";import"./isSymbol.d728fe31.js";import"./Portal.bf2e5144.js";import"./index.39cec35d.js";import"./context.4fcda71f.js";import"./pickAttrs.91b30b21.js";import"./conductUtil.91a30912.js";import"./iconUtil.71342ca5.js";import"./Overflow.ff04d686.js";import"./statusUtils.e7207d24.js";import"./SearchOutlined.d2d234c2.js";import"./path.02380b0b.js";import"./Editor.88c5e82e.js";import"./index.d4e5ccca.js";import"./use-immer.module.72e4ecef.js";import"./isArrayLikeObject.9676d780.js";import"./get.ab779695.js";import"./identity.af5bbf98.js";import"./index.70ebfd77.js";import"./index.21d0aee3.js";import"./stackblitz.d6583d31.js";import"./index.46a9404e.js";import"./DialogWrap.ed68ac9f.js";import"./styleChecker.9486324a.js";import"./index.4ef503cf.js";import"./dayjs.min.9104a23a.js";import"./DoubleRightOutlined.d12d812f.js";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.7(35eb0efbc039827432002ccc17b120eb0874d70f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var rt=Object.defineProperty,it=Object.getOwnPropertyDescriptor,st=Object.getOwnPropertyNames,ot=Object.prototype.hasOwnProperty,ae=(e,r,i,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let t of st(r))!ot.call(e,t)&&t!==i&&rt(e,t,{get:()=>r[t],enumerable:!(n=it(r,t))||n.enumerable});return e},at=(e,r,i)=>(ae(e,r,"default"),i&&ae(i,r,"default")),g={};at(g,nt);var ut=2*60*1e3,ct=class{constructor(e){A(this,"_defaults");A(this,"_idleCheckInterval");A(this,"_lastUsedTime");A(this,"_configChangeListener");A(this,"_worker");A(this,"_client");this._defaults=e,this._worker=null,this._client=null,this._idleCheckInterval=window.setInterval(()=>this._checkIfIdle(),30*1e3),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(()=>this._stopWorker())}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){if(!this._worker)return;Date.now()-this._lastUsedTime>ut&&this._stopWorker()}_getClient(){return this._lastUsedTime=Date.now(),this._client||(this._worker=g.editor.createWebWorker({moduleId:"vs/language/json/jsonWorker",label:this._defaults.languageId,createData:{languageSettings:this._defaults.diagnosticsOptions,languageId:this._defaults.languageId,enableSchemaRequest:this._defaults.diagnosticsOptions.enableSchemaRequest}}),this._client=this._worker.getProxy()),this._client}getLanguageServiceWorker(...e){let r;return this._getClient().then(i=>{r=i}).then(i=>{if(this._worker)return this._worker.withSyncedResources(e)}).then(i=>r)}},ue;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647})(ue||(ue={}));var Y;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647})(Y||(Y={}));var N;(function(e){function r(n,t){return n===Number.MAX_VALUE&&(n=Y.MAX_VALUE),t===Number.MAX_VALUE&&(t=Y.MAX_VALUE),{line:n,character:t}}e.create=r;function i(n){var t=n;return a.objectLiteral(t)&&a.uinteger(t.line)&&a.uinteger(t.character)}e.is=i})(N||(N={}));var _;(function(e){function r(n,t,s,o){if(a.uinteger(n)&&a.uinteger(t)&&a.uinteger(s)&&a.uinteger(o))return{start:N.create(n,t),end:N.create(s,o)};if(N.is(n)&&N.is(t))return{start:n,end:t};throw new Error("Range#create called with invalid arguments["+n+", "+t+", "+s+", "+o+"]")}e.create=r;function i(n){var t=n;return a.objectLiteral(t)&&N.is(t.start)&&N.is(t.end)}e.is=i})(_||(_={}));var te;(function(e){function r(n,t){return{uri:n,range:t}}e.create=r;function i(n){var t=n;return a.defined(t)&&_.is(t.range)&&(a.string(t.uri)||a.undefined(t.uri))}e.is=i})(te||(te={}));var ce;(function(e){function r(n,t,s,o){return{targetUri:n,targetRange:t,targetSelectionRange:s,originSelectionRange:o}}e.create=r;function i(n){var t=n;return a.defined(t)&&_.is(t.targetRange)&&a.string(t.targetUri)&&(_.is(t.targetSelectionRange)||a.undefined(t.targetSelectionRange))&&(_.is(t.originSelectionRange)||a.undefined(t.originSelectionRange))}e.is=i})(ce||(ce={}));var ne;(function(e){function r(n,t,s,o){return{red:n,green:t,blue:s,alpha:o}}e.create=r;function i(n){var t=n;return a.numberRange(t.red,0,1)&&a.numberRange(t.green,0,1)&&a.numberRange(t.blue,0,1)&&a.numberRange(t.alpha,0,1)}e.is=i})(ne||(ne={}));var le;(function(e){function r(n,t){return{range:n,color:t}}e.create=r;function i(n){var t=n;return _.is(t.range)&&ne.is(t.color)}e.is=i})(le||(le={}));var fe;(function(e){function r(n,t,s){return{label:n,textEdit:t,additionalTextEdits:s}}e.create=r;function i(n){var t=n;return a.string(t.label)&&(a.undefined(t.textEdit)||M.is(t))&&(a.undefined(t.additionalTextEdits)||a.typedArray(t.additionalTextEdits,M.is))}e.is=i})(fe||(fe={}));var W;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(W||(W={}));var ge;(function(e){function r(n,t,s,o,u){var c={startLine:n,endLine:t};return a.defined(s)&&(c.startCharacter=s),a.defined(o)&&(c.endCharacter=o),a.defined(u)&&(c.kind=u),c}e.create=r;function i(n){var t=n;return a.uinteger(t.startLine)&&a.uinteger(t.startLine)&&(a.undefined(t.startCharacter)||a.uinteger(t.startCharacter))&&(a.undefined(t.endCharacter)||a.uinteger(t.endCharacter))&&(a.undefined(t.kind)||a.string(t.kind))}e.is=i})(ge||(ge={}));var re;(function(e){function r(n,t){return{location:n,message:t}}e.create=r;function i(n){var t=n;return a.defined(t)&&te.is(t.location)&&a.string(t.message)}e.is=i})(re||(re={}));var j;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(j||(j={}));var de;(function(e){e.Unnecessary=1,e.Deprecated=2})(de||(de={}));var ve;(function(e){function r(i){var n=i;return n!=null&&a.string(n.href)}e.is=r})(ve||(ve={}));var G;(function(e){function r(n,t,s,o,u,c){var l={range:n,message:t};return a.defined(s)&&(l.severity=s),a.defined(o)&&(l.code=o),a.defined(u)&&(l.source=u),a.defined(c)&&(l.relatedInformation=c),l}e.create=r;function i(n){var t,s=n;return a.defined(s)&&_.is(s.range)&&a.string(s.message)&&(a.number(s.severity)||a.undefined(s.severity))&&(a.integer(s.code)||a.string(s.code)||a.undefined(s.code))&&(a.undefined(s.codeDescription)||a.string((t=s.codeDescription)===null||t===void 0?void 0:t.href))&&(a.string(s.source)||a.undefined(s.source))&&(a.undefined(s.relatedInformation)||a.typedArray(s.relatedInformation,re.is))}e.is=i})(G||(G={}));var V;(function(e){function r(n,t){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];var u={title:n,command:t};return a.defined(s)&&s.length>0&&(u.arguments=s),u}e.create=r;function i(n){var t=n;return a.defined(t)&&a.string(t.title)&&a.string(t.command)}e.is=i})(V||(V={}));var M;(function(e){function r(s,o){return{range:s,newText:o}}e.replace=r;function i(s,o){return{range:{start:s,end:s},newText:o}}e.insert=i;function n(s){return{range:s,newText:""}}e.del=n;function t(s){var o=s;return a.objectLiteral(o)&&a.string(o.newText)&&_.is(o.range)}e.is=t})(M||(M={}));var S;(function(e){function r(n,t,s){var o={label:n};return t!==void 0&&(o.needsConfirmation=t),s!==void 0&&(o.description=s),o}e.create=r;function i(n){var t=n;return t!==void 0&&a.objectLiteral(t)&&a.string(t.label)&&(a.boolean(t.needsConfirmation)||t.needsConfirmation===void 0)&&(a.string(t.description)||t.description===void 0)}e.is=i})(S||(S={}));var w;(function(e){function r(i){var n=i;return typeof n=="string"}e.is=r})(w||(w={}));var R;(function(e){function r(s,o,u){return{range:s,newText:o,annotationId:u}}e.replace=r;function i(s,o,u){return{range:{start:s,end:s},newText:o,annotationId:u}}e.insert=i;function n(s,o){return{range:s,newText:"",annotationId:o}}e.del=n;function t(s){var o=s;return M.is(o)&&(S.is(o.annotationId)||w.is(o.annotationId))}e.is=t})(R||(R={}));var Z;(function(e){function r(n,t){return{textDocument:n,edits:t}}e.create=r;function i(n){var t=n;return a.defined(t)&&$.is(t.textDocument)&&Array.isArray(t.edits)}e.is=i})(Z||(Z={}));var H;(function(e){function r(n,t,s){var o={kind:"create",uri:n};return t!==void 0&&(t.overwrite!==void 0||t.ignoreIfExists!==void 0)&&(o.options=t),s!==void 0&&(o.annotationId=s),o}e.create=r;function i(n){var t=n;return t&&t.kind==="create"&&a.string(t.uri)&&(t.options===void 0||(t.options.overwrite===void 0||a.boolean(t.options.overwrite))&&(t.options.ignoreIfExists===void 0||a.boolean(t.options.ignoreIfExists)))&&(t.annotationId===void 0||w.is(t.annotationId))}e.is=i})(H||(H={}));var z;(function(e){function r(n,t,s,o){var u={kind:"rename",oldUri:n,newUri:t};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(u.options=s),o!==void 0&&(u.annotationId=o),u}e.create=r;function i(n){var t=n;return t&&t.kind==="rename"&&a.string(t.oldUri)&&a.string(t.newUri)&&(t.options===void 0||(t.options.overwrite===void 0||a.boolean(t.options.overwrite))&&(t.options.ignoreIfExists===void 0||a.boolean(t.options.ignoreIfExists)))&&(t.annotationId===void 0||w.is(t.annotationId))}e.is=i})(z||(z={}));var q;(function(e){function r(n,t,s){var o={kind:"delete",uri:n};return t!==void 0&&(t.recursive!==void 0||t.ignoreIfNotExists!==void 0)&&(o.options=t),s!==void 0&&(o.annotationId=s),o}e.create=r;function i(n){var t=n;return t&&t.kind==="delete"&&a.string(t.uri)&&(t.options===void 0||(t.options.recursive===void 0||a.boolean(t.options.recursive))&&(t.options.ignoreIfNotExists===void 0||a.boolean(t.options.ignoreIfNotExists)))&&(t.annotationId===void 0||w.is(t.annotationId))}e.is=i})(q||(q={}));var ie;(function(e){function r(i){var n=i;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(function(t){return a.string(t.kind)?H.is(t)||z.is(t)||q.is(t):Z.is(t)}))}e.is=r})(ie||(ie={}));var Q=function(){function e(r,i){this.edits=r,this.changeAnnotations=i}return e.prototype.insert=function(r,i,n){var t,s;if(n===void 0?t=M.insert(r,i):w.is(n)?(s=n,t=R.insert(r,i,n)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(n),t=R.insert(r,i,s)),this.edits.push(t),s!==void 0)return s},e.prototype.replace=function(r,i,n){var t,s;if(n===void 0?t=M.replace(r,i):w.is(n)?(s=n,t=R.replace(r,i,n)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(n),t=R.replace(r,i,s)),this.edits.push(t),s!==void 0)return s},e.prototype.delete=function(r,i){var n,t;if(i===void 0?n=M.del(r):w.is(i)?(t=i,n=R.del(r,i)):(this.assertChangeAnnotations(this.changeAnnotations),t=this.changeAnnotations.manage(i),n=R.del(r,t)),this.edits.push(n),t!==void 0)return t},e.prototype.add=function(r){this.edits.push(r)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(r){if(r===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),he=function(){function e(r){this._annotations=r===void 0?Object.create(null):r,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(r,i){var n;if(w.is(r)?n=r:(n=this.nextId(),i=r),this._annotations[n]!==void 0)throw new Error("Id "+n+" is already in use.");if(i===void 0)throw new Error("No annotation provided for id "+n);return this._annotations[n]=i,this._size++,n},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}();(function(){function e(r){var i=this;this._textEditChanges=Object.create(null),r!==void 0?(this._workspaceEdit=r,r.documentChanges?(this._changeAnnotations=new he(r.changeAnnotations),r.changeAnnotations=this._changeAnnotations.all(),r.documentChanges.forEach(function(n){if(Z.is(n)){var t=new Q(n.edits,i._changeAnnotations);i._textEditChanges[n.textDocument.uri]=t}})):r.changes&&Object.keys(r.changes).forEach(function(n){var t=new Q(r.changes[n]);i._textEditChanges[n]=t})):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(r){if($.is(r)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i={uri:r.uri,version:r.version},n=this._textEditChanges[i.uri];if(!n){var t=[],s={textDocument:i,edits:t};this._workspaceEdit.documentChanges.push(s),n=new Q(t,this._changeAnnotations),this._textEditChanges[i.uri]=n}return n}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var n=this._textEditChanges[r];if(!n){var t=[];this._workspaceEdit.changes[r]=t,n=new Q(t),this._textEditChanges[r]=n}return n}},e.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new he,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(r,i,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var t;S.is(i)||w.is(i)?t=i:n=i;var s,o;if(t===void 0?s=H.create(r,n):(o=w.is(t)?t:this._changeAnnotations.manage(t),s=H.create(r,n,o)),this._workspaceEdit.documentChanges.push(s),o!==void 0)return o},e.prototype.renameFile=function(r,i,n,t){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var s;S.is(n)||w.is(n)?s=n:t=n;var o,u;if(s===void 0?o=z.create(r,i,t):(u=w.is(s)?s:this._changeAnnotations.manage(s),o=z.create(r,i,t,u)),this._workspaceEdit.documentChanges.push(o),u!==void 0)return u},e.prototype.deleteFile=function(r,i,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var t;S.is(i)||w.is(i)?t=i:n=i;var s,o;if(t===void 0?s=q.create(r,n):(o=w.is(t)?t:this._changeAnnotations.manage(t),s=q.create(r,n,o)),this._workspaceEdit.documentChanges.push(s),o!==void 0)return o},e})();var pe;(function(e){function r(n){return{uri:n}}e.create=r;function i(n){var t=n;return a.defined(t)&&a.string(t.uri)}e.is=i})(pe||(pe={}));var me;(function(e){function r(n,t){return{uri:n,version:t}}e.create=r;function i(n){var t=n;return a.defined(t)&&a.string(t.uri)&&a.integer(t.version)}e.is=i})(me||(me={}));var $;(function(e){function r(n,t){return{uri:n,version:t}}e.create=r;function i(n){var t=n;return a.defined(t)&&a.string(t.uri)&&(t.version===null||a.integer(t.version))}e.is=i})($||($={}));var _e;(function(e){function r(n,t,s,o){return{uri:n,languageId:t,version:s,text:o}}e.create=r;function i(n){var t=n;return a.defined(t)&&a.string(t.uri)&&a.string(t.languageId)&&a.integer(t.version)&&a.string(t.text)}e.is=i})(_e||(_e={}));var X;(function(e){e.PlainText="plaintext",e.Markdown="markdown"})(X||(X={}));(function(e){function r(i){var n=i;return n===e.PlainText||n===e.Markdown}e.is=r})(X||(X={}));var se;(function(e){function r(i){var n=i;return a.objectLiteral(i)&&X.is(n.kind)&&a.string(n.value)}e.is=r})(se||(se={}));var p;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(p||(p={}));var oe;(function(e){e.PlainText=1,e.Snippet=2})(oe||(oe={}));var ke;(function(e){e.Deprecated=1})(ke||(ke={}));var we;(function(e){function r(n,t,s){return{newText:n,insert:t,replace:s}}e.create=r;function i(n){var t=n;return t&&a.string(t.newText)&&_.is(t.insert)&&_.is(t.replace)}e.is=i})(we||(we={}));var be;(function(e){e.asIs=1,e.adjustIndentation=2})(be||(be={}));var Ee;(function(e){function r(i){return{label:i}}e.create=r})(Ee||(Ee={}));var Ae;(function(e){function r(i,n){return{items:i||[],isIncomplete:!!n}}e.create=r})(Ae||(Ae={}));var K;(function(e){function r(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=r;function i(n){var t=n;return a.string(t)||a.objectLiteral(t)&&a.string(t.language)&&a.string(t.value)}e.is=i})(K||(K={}));var Te;(function(e){function r(i){var n=i;return!!n&&a.objectLiteral(n)&&(se.is(n.contents)||K.is(n.contents)||a.typedArray(n.contents,K.is))&&(i.range===void 0||_.is(i.range))}e.is=r})(Te||(Te={}));var Ie;(function(e){function r(i,n){return n?{label:i,documentation:n}:{label:i}}e.create=r})(Ie||(Ie={}));var Le;(function(e){function r(i,n){for(var t=[],s=2;s<arguments.length;s++)t[s-2]=arguments[s];var o={label:i};return a.defined(n)&&(o.documentation=n),a.defined(t)?o.parameters=t:o.parameters=[],o}e.create=r})(Le||(Le={}));var B;(function(e){e.Text=1,e.Read=2,e.Write=3})(B||(B={}));var Oe;(function(e){function r(i,n){var t={range:i};return a.number(n)&&(t.kind=n),t}e.create=r})(Oe||(Oe={}));var m;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(m||(m={}));var Ne;(function(e){e.Deprecated=1})(Ne||(Ne={}));var Re;(function(e){function r(i,n,t,s,o){var u={name:i,kind:n,location:{uri:s,range:t}};return o&&(u.containerName=o),u}e.create=r})(Re||(Re={}));var Me;(function(e){function r(n,t,s,o,u,c){var l={name:n,detail:t,kind:s,range:o,selectionRange:u};return c!==void 0&&(l.children=c),l}e.create=r;function i(n){var t=n;return t&&a.string(t.name)&&a.number(t.kind)&&_.is(t.range)&&_.is(t.selectionRange)&&(t.detail===void 0||a.string(t.detail))&&(t.deprecated===void 0||a.boolean(t.deprecated))&&(t.children===void 0||Array.isArray(t.children))&&(t.tags===void 0||Array.isArray(t.tags))}e.is=i})(Me||(Me={}));var De;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(De||(De={}));var ye;(function(e){function r(n,t){var s={diagnostics:n};return t!=null&&(s.only=t),s}e.create=r;function i(n){var t=n;return a.defined(t)&&a.typedArray(t.diagnostics,G.is)&&(t.only===void 0||a.typedArray(t.only,a.string))}e.is=i})(ye||(ye={}));var Fe;(function(e){function r(n,t,s){var o={title:n},u=!0;return typeof t=="string"?(u=!1,o.kind=t):V.is(t)?o.command=t:o.edit=t,u&&s!==void 0&&(o.kind=s),o}e.create=r;function i(n){var t=n;return t&&a.string(t.title)&&(t.diagnostics===void 0||a.typedArray(t.diagnostics,G.is))&&(t.kind===void 0||a.string(t.kind))&&(t.edit!==void 0||t.command!==void 0)&&(t.command===void 0||V.is(t.command))&&(t.isPreferred===void 0||a.boolean(t.isPreferred))&&(t.edit===void 0||ie.is(t.edit))}e.is=i})(Fe||(Fe={}));var je;(function(e){function r(n,t){var s={range:n};return a.defined(t)&&(s.data=t),s}e.create=r;function i(n){var t=n;return a.defined(t)&&_.is(t.range)&&(a.undefined(t.command)||V.is(t.command))}e.is=i})(je||(je={}));var Ue;(function(e){function r(n,t){return{tabSize:n,insertSpaces:t}}e.create=r;function i(n){var t=n;return a.defined(t)&&a.uinteger(t.tabSize)&&a.boolean(t.insertSpaces)}e.is=i})(Ue||(Ue={}));var Se;(function(e){function r(n,t,s){return{range:n,target:t,data:s}}e.create=r;function i(n){var t=n;return a.defined(t)&&_.is(t.range)&&(a.undefined(t.target)||a.string(t.target))}e.is=i})(Se||(Se={}));var xe;(function(e){function r(n,t){return{range:n,parent:t}}e.create=r;function i(n){var t=n;return t!==void 0&&_.is(t.range)&&(t.parent===void 0||e.is(t.parent))}e.is=i})(xe||(xe={}));var Pe;(function(e){function r(s,o,u,c){return new lt(s,o,u,c)}e.create=r;function i(s){var o=s;return!!(a.defined(o)&&a.string(o.uri)&&(a.undefined(o.languageId)||a.string(o.languageId))&&a.uinteger(o.lineCount)&&a.func(o.getText)&&a.func(o.positionAt)&&a.func(o.offsetAt))}e.is=i;function n(s,o){for(var u=s.getText(),c=t(o,function(O,y){var x=O.range.start.line-y.range.start.line;return x===0?O.range.start.character-y.range.start.character:x}),l=u.length,h=c.length-1;h>=0;h--){var d=c[h],b=s.offsetAt(d.range.start),v=s.offsetAt(d.range.end);if(v<=l)u=u.substring(0,b)+d.newText+u.substring(v,u.length);else throw new Error("Overlapping edit");l=b}return u}e.applyEdits=n;function t(s,o){if(s.length<=1)return s;var u=s.length/2|0,c=s.slice(0,u),l=s.slice(u);t(c,o),t(l,o);for(var h=0,d=0,b=0;h<c.length&&d<l.length;){var v=o(c[h],l[d]);v<=0?s[b++]=c[h++]:s[b++]=l[d++]}for(;h<c.length;)s[b++]=c[h++];for(;d<l.length;)s[b++]=l[d++];return s}})(Pe||(Pe={}));var lt=function(){function e(r,i,n,t){this._uri=r,this._languageId=i,this._version=n,this._content=t,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(r){if(r){var i=this.offsetAt(r.start),n=this.offsetAt(r.end);return this._content.substring(i,n)}return this._content},e.prototype.update=function(r,i){this._content=r.text,this._version=i,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var r=[],i=this._content,n=!0,t=0;t<i.length;t++){n&&(r.push(t),n=!1);var s=i.charAt(t);n=s==="\r"||s===`
`,s==="\r"&&t+1<i.length&&i.charAt(t+1)===`
`&&t++}n&&i.length>0&&r.push(i.length),this._lineOffsets=r}return this._lineOffsets},e.prototype.positionAt=function(r){r=Math.max(Math.min(r,this._content.length),0);var i=this.getLineOffsets(),n=0,t=i.length;if(t===0)return N.create(0,r);for(;n<t;){var s=Math.floor((n+t)/2);i[s]>r?t=s:n=s+1}var o=n-1;return N.create(o,r-i[o])},e.prototype.offsetAt=function(r){var i=this.getLineOffsets();if(r.line>=i.length)return this._content.length;if(r.line<0)return 0;var n=i[r.line],t=r.line+1<i.length?i[r.line+1]:this._content.length;return Math.max(Math.min(n+r.character,t),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}(),a;(function(e){var r=Object.prototype.toString;function i(v){return typeof v<"u"}e.defined=i;function n(v){return typeof v>"u"}e.undefined=n;function t(v){return v===!0||v===!1}e.boolean=t;function s(v){return r.call(v)==="[object String]"}e.string=s;function o(v){return r.call(v)==="[object Number]"}e.number=o;function u(v,O,y){return r.call(v)==="[object Number]"&&O<=v&&v<=y}e.numberRange=u;function c(v){return r.call(v)==="[object Number]"&&-2147483648<=v&&v<=2147483647}e.integer=c;function l(v){return r.call(v)==="[object Number]"&&0<=v&&v<=2147483647}e.uinteger=l;function h(v){return r.call(v)==="[object Function]"}e.func=h;function d(v){return v!==null&&typeof v=="object"}e.objectLiteral=d;function b(v,O){return Array.isArray(v)&&v.every(O)}e.typedArray=b})(a||(a={}));var ft=class{constructor(e,r,i){A(this,"_disposables",[]);A(this,"_listener",Object.create(null));this._languageId=e,this._worker=r;const n=s=>{let o=s.getLanguageId();if(o!==this._languageId)return;let u;this._listener[s.uri.toString()]=s.onDidChangeContent(()=>{window.clearTimeout(u),u=window.setTimeout(()=>this._doValidate(s.uri,o),500)}),this._doValidate(s.uri,o)},t=s=>{g.editor.setModelMarkers(s,this._languageId,[]);let o=s.uri.toString(),u=this._listener[o];u&&(u.dispose(),delete this._listener[o])};this._disposables.push(g.editor.onDidCreateModel(n)),this._disposables.push(g.editor.onWillDisposeModel(t)),this._disposables.push(g.editor.onDidChangeModelLanguage(s=>{t(s.model),n(s.model)})),this._disposables.push(i(s=>{g.editor.getModels().forEach(o=>{o.getLanguageId()===this._languageId&&(t(o),n(o))})})),this._disposables.push({dispose:()=>{g.editor.getModels().forEach(t);for(let s in this._listener)this._listener[s].dispose()}}),g.editor.getModels().forEach(n)}dispose(){this._disposables.forEach(e=>e&&e.dispose()),this._disposables.length=0}_doValidate(e,r){this._worker(e).then(i=>i.doValidation(e.toString())).then(i=>{const n=i.map(s=>dt(e,s));let t=g.editor.getModel(e);t&&t.getLanguageId()===r&&g.editor.setModelMarkers(t,r,n)}).then(void 0,i=>{console.error(i)})}};function gt(e){switch(e){case j.Error:return g.MarkerSeverity.Error;case j.Warning:return g.MarkerSeverity.Warning;case j.Information:return g.MarkerSeverity.Info;case j.Hint:return g.MarkerSeverity.Hint;default:return g.MarkerSeverity.Info}}function dt(e,r){let i=typeof r.code=="number"?String(r.code):r.code;return{severity:gt(r.severity),startLineNumber:r.range.start.line+1,startColumn:r.range.start.character+1,endLineNumber:r.range.end.line+1,endColumn:r.range.end.character+1,message:r.message,code:i,source:r.source}}var vt=class{constructor(e,r){this._worker=e,this._triggerCharacters=r}get triggerCharacters(){return this._triggerCharacters}provideCompletionItems(e,r,i,n){const t=e.uri;return this._worker(t).then(s=>s.doComplete(t.toString(),D(r))).then(s=>{if(!s)return;const o=e.getWordUntilPosition(r),u=new g.Range(r.lineNumber,o.startColumn,r.lineNumber,o.endColumn),c=s.items.map(l=>{const h={label:l.label,insertText:l.insertText||l.label,sortText:l.sortText,filterText:l.filterText,documentation:l.documentation,detail:l.detail,command:mt(l.command),range:u,kind:pt(l.kind)};return l.textEdit&&(ht(l.textEdit)?h.range={insert:T(l.textEdit.insert),replace:T(l.textEdit.replace)}:h.range=T(l.textEdit.range),h.insertText=l.textEdit.newText),l.additionalTextEdits&&(h.additionalTextEdits=l.additionalTextEdits.map(J)),l.insertTextFormat===oe.Snippet&&(h.insertTextRules=g.languages.CompletionItemInsertTextRule.InsertAsSnippet),h});return{isIncomplete:s.isIncomplete,suggestions:c}})}};function D(e){if(!!e)return{character:e.column-1,line:e.lineNumber-1}}function Ye(e){if(!!e)return{start:{line:e.startLineNumber-1,character:e.startColumn-1},end:{line:e.endLineNumber-1,character:e.endColumn-1}}}function T(e){if(!!e)return new g.Range(e.start.line+1,e.start.character+1,e.end.line+1,e.end.character+1)}function ht(e){return typeof e.insert<"u"&&typeof e.replace<"u"}function pt(e){const r=g.languages.CompletionItemKind;switch(e){case p.Text:return r.Text;case p.Method:return r.Method;case p.Function:return r.Function;case p.Constructor:return r.Constructor;case p.Field:return r.Field;case p.Variable:return r.Variable;case p.Class:return r.Class;case p.Interface:return r.Interface;case p.Module:return r.Module;case p.Property:return r.Property;case p.Unit:return r.Unit;case p.Value:return r.Value;case p.Enum:return r.Enum;case p.Keyword:return r.Keyword;case p.Snippet:return r.Snippet;case p.Color:return r.Color;case p.File:return r.File;case p.Reference:return r.Reference}return r.Property}function J(e){if(!!e)return{range:T(e.range),text:e.newText}}function mt(e){return e&&e.command==="editor.action.triggerSuggest"?{id:e.command,title:e.title,arguments:e.arguments}:void 0}var _t=class{constructor(e){this._worker=e}provideHover(e,r,i){let n=e.uri;return this._worker(n).then(t=>t.doHover(n.toString(),D(r))).then(t=>{if(!!t)return{range:T(t.range),contents:wt(t.contents)}})}};function kt(e){return e&&typeof e=="object"&&typeof e.kind=="string"}function We(e){return typeof e=="string"?{value:e}:kt(e)?e.kind==="plaintext"?{value:e.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}:{value:e.value}:{value:"```"+e.language+`
`+e.value+"\n```\n"}}function wt(e){if(!!e)return Array.isArray(e)?e.map(We):[We(e)]}var On=class{constructor(e){this._worker=e}provideDocumentHighlights(e,r,i){const n=e.uri;return this._worker(n).then(t=>t.findDocumentHighlights(n.toString(),D(r))).then(t=>{if(!!t)return t.map(s=>({range:T(s.range),kind:bt(s.kind)}))})}};function bt(e){switch(e){case B.Read:return g.languages.DocumentHighlightKind.Read;case B.Write:return g.languages.DocumentHighlightKind.Write;case B.Text:return g.languages.DocumentHighlightKind.Text}return g.languages.DocumentHighlightKind.Text}var Nn=class{constructor(e){this._worker=e}provideDefinition(e,r,i){const n=e.uri;return this._worker(n).then(t=>t.findDefinition(n.toString(),D(r))).then(t=>{if(!!t)return[Ge(t)]})}};function Ge(e){return{uri:g.Uri.parse(e.uri),range:T(e.range)}}var Rn=class{constructor(e){this._worker=e}provideReferences(e,r,i,n){const t=e.uri;return this._worker(t).then(s=>s.findReferences(t.toString(),D(r))).then(s=>{if(!!s)return s.map(Ge)})}},Mn=class{constructor(e){this._worker=e}provideRenameEdits(e,r,i,n){const t=e.uri;return this._worker(t).then(s=>s.doRename(t.toString(),D(r),i)).then(s=>Et(s))}};function Et(e){if(!e||!e.changes)return;let r=[];for(let i in e.changes){const n=g.Uri.parse(i);for(let t of e.changes[i])r.push({resource:n,versionId:void 0,textEdit:{range:T(t.range),text:t.newText}})}return{edits:r}}var At=class{constructor(e){this._worker=e}provideDocumentSymbols(e,r){const i=e.uri;return this._worker(i).then(n=>n.findDocumentSymbols(i.toString())).then(n=>{if(!!n)return n.map(t=>({name:t.name,detail:"",containerName:t.containerName,kind:Tt(t.kind),range:T(t.location.range),selectionRange:T(t.location.range),tags:[]}))})}};function Tt(e){let r=g.languages.SymbolKind;switch(e){case m.File:return r.Array;case m.Module:return r.Module;case m.Namespace:return r.Namespace;case m.Package:return r.Package;case m.Class:return r.Class;case m.Method:return r.Method;case m.Property:return r.Property;case m.Field:return r.Field;case m.Constructor:return r.Constructor;case m.Enum:return r.Enum;case m.Interface:return r.Interface;case m.Function:return r.Function;case m.Variable:return r.Variable;case m.Constant:return r.Constant;case m.String:return r.String;case m.Number:return r.Number;case m.Boolean:return r.Boolean;case m.Array:return r.Array}return r.Function}var Dn=class{constructor(e){this._worker=e}provideLinks(e,r){const i=e.uri;return this._worker(i).then(n=>n.findDocumentLinks(i.toString())).then(n=>{if(!!n)return{links:n.map(t=>({range:T(t.range),url:t.target}))}})}},It=class{constructor(e){this._worker=e}provideDocumentFormattingEdits(e,r,i){const n=e.uri;return this._worker(n).then(t=>t.format(n.toString(),null,Ze(r)).then(s=>{if(!(!s||s.length===0))return s.map(J)}))}},Lt=class{constructor(e){this._worker=e}provideDocumentRangeFormattingEdits(e,r,i,n){const t=e.uri;return this._worker(t).then(s=>s.format(t.toString(),Ye(r),Ze(i)).then(o=>{if(!(!o||o.length===0))return o.map(J)}))}};function Ze(e){return{tabSize:e.tabSize,insertSpaces:e.insertSpaces}}var Ot=class{constructor(e){this._worker=e}provideDocumentColors(e,r){const i=e.uri;return this._worker(i).then(n=>n.findDocumentColors(i.toString())).then(n=>{if(!!n)return n.map(t=>({color:t.color,range:T(t.range)}))})}provideColorPresentations(e,r,i){const n=e.uri;return this._worker(n).then(t=>t.getColorPresentations(n.toString(),r.color,Ye(r.range))).then(t=>{if(!!t)return t.map(s=>{let o={label:s.label};return s.textEdit&&(o.textEdit=J(s.textEdit)),s.additionalTextEdits&&(o.additionalTextEdits=s.additionalTextEdits.map(J)),o})})}},Nt=class{constructor(e){this._worker=e}provideFoldingRanges(e,r,i){const n=e.uri;return this._worker(n).then(t=>t.getFoldingRanges(n.toString(),r)).then(t=>{if(!!t)return t.map(s=>{const o={start:s.startLine+1,end:s.endLine+1};return typeof s.kind<"u"&&(o.kind=Rt(s.kind)),o})})}};function Rt(e){switch(e){case W.Comment:return g.languages.FoldingRangeKind.Comment;case W.Imports:return g.languages.FoldingRangeKind.Imports;case W.Region:return g.languages.FoldingRangeKind.Region}}var Mt=class{constructor(e){this._worker=e}provideSelectionRanges(e,r,i){const n=e.uri;return this._worker(n).then(t=>t.getSelectionRanges(n.toString(),r.map(D))).then(t=>{if(!!t)return t.map(s=>{const o=[];for(;s;)o.push({range:T(s.range)}),s=s.parent;return o})})}};function Dt(e,r=!1){const i=e.length;let n=0,t="",s=0,o=16,u=0,c=0,l=0,h=0,d=0;function b(f,E){let L=0,I=0;for(;L<f||!E;){let k=e.charCodeAt(n);if(k>=48&&k<=57)I=I*16+k-48;else if(k>=65&&k<=70)I=I*16+k-65+10;else if(k>=97&&k<=102)I=I*16+k-97+10;else break;n++,L++}return L<f&&(I=-1),I}function v(f){n=f,t="",s=0,o=16,d=0}function O(){let f=n;if(e.charCodeAt(n)===48)n++;else for(n++;n<e.length&&F(e.charCodeAt(n));)n++;if(n<e.length&&e.charCodeAt(n)===46)if(n++,n<e.length&&F(e.charCodeAt(n)))for(n++;n<e.length&&F(e.charCodeAt(n));)n++;else return d=3,e.substring(f,n);let E=n;if(n<e.length&&(e.charCodeAt(n)===69||e.charCodeAt(n)===101))if(n++,(n<e.length&&e.charCodeAt(n)===43||e.charCodeAt(n)===45)&&n++,n<e.length&&F(e.charCodeAt(n))){for(n++;n<e.length&&F(e.charCodeAt(n));)n++;E=n}else d=3;return e.substring(f,E)}function y(){let f="",E=n;for(;;){if(n>=i){f+=e.substring(E,n),d=2;break}const L=e.charCodeAt(n);if(L===34){f+=e.substring(E,n),n++;break}if(L===92){if(f+=e.substring(E,n),n++,n>=i){d=2;break}switch(e.charCodeAt(n++)){case 34:f+='"';break;case 92:f+="\\";break;case 47:f+="/";break;case 98:f+="\b";break;case 102:f+="\f";break;case 110:f+=`
`;break;case 114:f+="\r";break;case 116:f+="	";break;case 117:const k=b(4,!0);k>=0?f+=String.fromCharCode(k):d=4;break;default:d=5}E=n;continue}if(L>=0&&L<=31)if(P(L)){f+=e.substring(E,n),d=2;break}else d=6;n++}return f}function x(){if(t="",d=0,s=n,c=u,h=l,n>=i)return s=i,o=17;let f=e.charCodeAt(n);if(ee(f)){do n++,t+=String.fromCharCode(f),f=e.charCodeAt(n);while(ee(f));return o=15}if(P(f))return n++,t+=String.fromCharCode(f),f===13&&e.charCodeAt(n)===10&&(n++,t+=`
`),u++,l=n,o=14;switch(f){case 123:return n++,o=1;case 125:return n++,o=2;case 91:return n++,o=3;case 93:return n++,o=4;case 58:return n++,o=6;case 44:return n++,o=5;case 34:return n++,t=y(),o=10;case 47:const E=n-1;if(e.charCodeAt(n+1)===47){for(n+=2;n<i&&!P(e.charCodeAt(n));)n++;return t=e.substring(E,n),o=12}if(e.charCodeAt(n+1)===42){n+=2;const L=i-1;let I=!1;for(;n<L;){const k=e.charCodeAt(n);if(k===42&&e.charCodeAt(n+1)===47){n+=2,I=!0;break}n++,P(k)&&(k===13&&e.charCodeAt(n)===10&&n++,u++,l=n)}return I||(n++,d=1),t=e.substring(E,n),o=13}return t+=String.fromCharCode(f),n++,o=16;case 45:if(t+=String.fromCharCode(f),n++,n===i||!F(e.charCodeAt(n)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return t+=O(),o=11;default:for(;n<i&&Ke(f);)n++,f=e.charCodeAt(n);if(s!==n){switch(t=e.substring(s,n),t){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return t+=String.fromCharCode(f),n++,o=16}}function Ke(f){if(ee(f)||P(f))return!1;switch(f){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function Ce(){let f;do f=x();while(f>=12&&f<=15);return f}return{setPosition:v,getPosition:()=>n,scan:r?Ce:x,getToken:()=>o,getTokenValue:()=>t,getTokenOffset:()=>s,getTokenLength:()=>n-s,getTokenStartLine:()=>c,getTokenStartCharacter:()=>s-h,getTokenError:()=>d}}function ee(e){return e===32||e===9}function P(e){return e===10||e===13}function F(e){return e>=48&&e<=57}var Be;(function(e){e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.space=32]="space",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.asterisk=42]="asterisk",e[e.backslash=92]="backslash",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.plus=43]="plus",e[e.slash=47]="slash",e[e.formFeed=12]="formFeed",e[e.tab=9]="tab"})(Be||(Be={}));var Ve;(function(e){e.DEFAULT={allowTrailingComma:!1}})(Ve||(Ve={}));var yt=Dt,He;(function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",e[e.InvalidCharacter=6]="InvalidCharacter"})(He||(He={}));var ze;(function(e){e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.Unknown=16]="Unknown",e[e.EOF=17]="EOF"})(ze||(ze={}));var qe;(function(e){e[e.InvalidSymbol=1]="InvalidSymbol",e[e.InvalidNumberFormat=2]="InvalidNumberFormat",e[e.PropertyNameExpected=3]="PropertyNameExpected",e[e.ValueExpected=4]="ValueExpected",e[e.ColonExpected=5]="ColonExpected",e[e.CommaExpected=6]="CommaExpected",e[e.CloseBraceExpected=7]="CloseBraceExpected",e[e.CloseBracketExpected=8]="CloseBracketExpected",e[e.EndOfFileExpected=9]="EndOfFileExpected",e[e.InvalidCommentToken=10]="InvalidCommentToken",e[e.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=12]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",e[e.InvalidUnicode=14]="InvalidUnicode",e[e.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",e[e.InvalidCharacter=16]="InvalidCharacter"})(qe||(qe={}));function Ft(e){return{getInitialState:()=>new C(null,null,!1,null),tokenize:(r,i)=>zt(e,r,i)}}var Xe="delimiter.bracket.json",Je="delimiter.array.json",jt="delimiter.colon.json",Ut="delimiter.comma.json",St="keyword.json",xt="keyword.json",Pt="string.value.json",Wt="number.json",Bt="string.key.json",Vt="comment.block.json",Ht="comment.line.json",U=class{constructor(e,r){this.parent=e,this.type=r}static pop(e){return e?e.parent:null}static push(e,r){return new U(e,r)}static equals(e,r){if(!e&&!r)return!0;if(!e||!r)return!1;for(;e&&r;){if(e===r)return!0;if(e.type!==r.type)return!1;e=e.parent,r=r.parent}return!0}},C=class{constructor(e,r,i,n){A(this,"_state");A(this,"scanError");A(this,"lastWasColon");A(this,"parents");this._state=e,this.scanError=r,this.lastWasColon=i,this.parents=n}clone(){return new C(this._state,this.scanError,this.lastWasColon,this.parents)}equals(e){return e===this?!0:!e||!(e instanceof C)?!1:this.scanError===e.scanError&&this.lastWasColon===e.lastWasColon&&U.equals(this.parents,e.parents)}getStateData(){return this._state}setStateData(e){this._state=e}};function zt(e,r,i,n=0){let t=0,s=!1;switch(i.scanError){case 2:r='"'+r,t=1;break;case 1:r="/*"+r,t=2;break}const o=yt(r);let u=i.lastWasColon,c=i.parents;const l={tokens:[],endState:i.clone()};for(;;){let h=n+o.getPosition(),d="";const b=o.scan();if(b===17)break;if(h===n+o.getPosition())throw new Error("Scanner did not advance, next 3 characters are: "+r.substr(o.getPosition(),3));switch(s&&(h-=t),s=t>0,b){case 1:c=U.push(c,0),d=Xe,u=!1;break;case 2:c=U.pop(c),d=Xe,u=!1;break;case 3:c=U.push(c,1),d=Je,u=!1;break;case 4:c=U.pop(c),d=Je,u=!1;break;case 6:d=jt,u=!0;break;case 5:d=Ut,u=!1;break;case 8:case 9:d=St,u=!1;break;case 7:d=xt,u=!1;break;case 10:const O=(c?c.type:0)===1;d=u||O?Pt:Bt,u=!1;break;case 11:d=Wt,u=!1;break}if(e)switch(b){case 12:d=Ht;break;case 13:d=Vt;break}l.endState=new C(i.getStateData(),o.getTokenError(),u,c),l.tokens.push({startIndex:h,scopes:d})}return l}var qt=class extends ft{constructor(e,r,i){super(e,r,i.onDidChange),this._disposables.push(g.editor.onWillDisposeModel(n=>{this._resetSchema(n.uri)})),this._disposables.push(g.editor.onDidChangeModelLanguage(n=>{this._resetSchema(n.model.uri)}))}_resetSchema(e){this._worker().then(r=>{r.resetSchema(e.toString())})}};function yn(e){const r=[],i=[],n=new ct(e);r.push(n);const t=(...u)=>n.getLanguageServiceWorker(...u);function s(){const{languageId:u,modeConfiguration:c}=e;$e(i),c.documentFormattingEdits&&i.push(g.languages.registerDocumentFormattingEditProvider(u,new It(t))),c.documentRangeFormattingEdits&&i.push(g.languages.registerDocumentRangeFormattingEditProvider(u,new Lt(t))),c.completionItems&&i.push(g.languages.registerCompletionItemProvider(u,new vt(t,[" ",":",'"']))),c.hovers&&i.push(g.languages.registerHoverProvider(u,new _t(t))),c.documentSymbols&&i.push(g.languages.registerDocumentSymbolProvider(u,new At(t))),c.tokens&&i.push(g.languages.setTokensProvider(u,Ft(!0))),c.colors&&i.push(g.languages.registerColorProvider(u,new Ot(t))),c.foldingRanges&&i.push(g.languages.registerFoldingRangeProvider(u,new Nt(t))),c.diagnostics&&i.push(new qt(u,t,e)),c.selectionRanges&&i.push(g.languages.registerSelectionRangeProvider(u,new Mt(t)))}s(),r.push(g.languages.setLanguageConfiguration(e.languageId,Xt));let o=e.modeConfiguration;return e.onDidChange(u=>{u.modeConfiguration!==o&&(o=u.modeConfiguration,s())}),r.push(Qe(i)),Qe(r)}function Qe(e){return{dispose:()=>$e(e)}}function $e(e){for(;e.length;)e.pop().dispose()}var Xt={wordPattern:/(-?\d*\.\d\w*)|([^\[\{\]\}\:\"\,\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string"]},{open:"[",close:"]",notIn:["string"]},{open:'"',close:'"',notIn:["string"]}]};export{vt as CompletionAdapter,Nn as DefinitionAdapter,ft as DiagnosticsAdapter,Ot as DocumentColorAdapter,It as DocumentFormattingEditProvider,On as DocumentHighlightAdapter,Dn as DocumentLinkAdapter,Lt as DocumentRangeFormattingEditProvider,At as DocumentSymbolAdapter,Nt as FoldingRangeAdapter,_t as HoverAdapter,Rn as ReferenceAdapter,Mn as RenameAdapter,Mt as SelectionRangeAdapter,ct as WorkerManager,D as fromPosition,Ye as fromRange,yn as setupMode,T as toRange,J as toTextEdit};
