import{q as O,s as L,v as $,x as j,r as o,a as N,B as A,D as T,g as W,T as H,t as q,c as F,e as d}from"./index.64257940.js";import{c as K}from"./context.4fcda71f.js";import{t as V}from"./type.4482a080.js";var f=new Map;function X(e){e.forEach(function(t){var n,r=t.target;(n=f.get(r))===null||n===void 0||n.forEach(function(a){return a(r)})})}var S=new K(X);function Y(e,t){f.has(e)||(f.set(e,new Set),S.observe(e)),f.get(e).add(t)}function G(e,t){f.has(e)&&(f.get(e).delete(t),f.get(e).size||(S.unobserve(e),f.delete(e)))}var J=function(e){O(n,e);var t=L(n);function n(){return $(this,n),t.apply(this,arguments)}return j(n,[{key:"render",value:function(){return this.props.children}}]),n}(o.exports.Component),m=o.exports.createContext(null);function Q(e){var t=e.children,n=e.onBatchResize,r=o.exports.useRef(0),a=o.exports.useRef([]),s=o.exports.useContext(m),l=o.exports.useCallback(function(c,u,v){r.current+=1;var h=r.current;a.current.push({size:c,element:u,data:v}),Promise.resolve().then(function(){h===r.current&&(n==null||n(a.current),a.current=[])}),s==null||s(c,u,v)},[n,s]);return N(m.Provider,{value:l,children:t})}function U(e){var t=e.children,n=e.disabled,r=o.exports.useRef(null),a=o.exports.useRef(null),s=o.exports.useContext(m),l=typeof t=="function",c=l?t(r):t,u=o.exports.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),v=!l&&o.exports.isValidElement(c)&&A(c),h=v?c.ref:null,P=o.exports.useMemo(function(){return T(h,r)},[h,r]),C=o.exports.useRef(e);C.current=e;var b=o.exports.useCallback(function(i){var z=C.current,w=z.onResize,B=z.data,_=i.getBoundingClientRect(),R=_.width,x=_.height,p=i.offsetWidth,g=i.offsetHeight,y=Math.floor(R),E=Math.floor(x);if(u.current.width!==y||u.current.height!==E||u.current.offsetWidth!==p||u.current.offsetHeight!==g){var k={width:y,height:E,offsetWidth:p,offsetHeight:g};u.current=k;var I=p===Math.round(R)?R:p,D=g===Math.round(x)?x:g,M=W(W({},k),{},{offsetWidth:I,offsetHeight:D});s==null||s(M,i,B),w&&Promise.resolve().then(function(){w(M,i)})}},[]);return o.exports.useEffect(function(){var i=H(r.current)||H(a.current);return i&&!n&&Y(i,b),function(){return G(i,b)}},[r.current,n]),N(J,{ref:a,children:v?o.exports.cloneElement(c,{ref:P}):c})}var Z="rc-observer-key";function ee(e){var t=e.children,n=typeof t=="function"?[t]:q(t);return n.map(function(r,a){var s=(r==null?void 0:r.key)||"".concat(Z,"-").concat(a);return o.exports.createElement(U,{...e,key:s},r)})}ee.Collection=Q;V("warning","error","");function oe(e,t,n){var r;return F((r={},d(r,"".concat(e,"-status-success"),t==="success"),d(r,"".concat(e,"-status-warning"),t==="warning"),d(r,"".concat(e,"-status-error"),t==="error"),d(r,"".concat(e,"-status-validating"),t==="validating"),d(r,"".concat(e,"-has-feedback"),n),r))}var ae=function(t,n){return n||t};export{ee as R,ae as a,oe as g};
