import{a as z}from"./codemirror.es.f9aaa881.js";import{a as K}from"./searchcursor.es.9239b932.js";import{a as U}from"./dialog.es.79adda03.js";import"./index.3992c1fc.js";import"./index.64257940.js";import"./index.5b2f5049.js";import"./Dropdown.66094b27.js";import"./index.61964446.js";import"./Portal.bf2e5144.js";import"./type.4482a080.js";import"./Overflow.ff04d686.js";import"./statusUtils.e7207d24.js";import"./context.4fcda71f.js";import"./_baseIsEqual.ae1f3f6e.js";import"./omit.173224d8.js";import"./PlusOutlined.3088ee84.js";import"./Tree.0082570b.js";import"./isSymbol.d728fe31.js";import"./index.39cec35d.js";import"./pickAttrs.91b30b21.js";import"./conductUtil.91a30912.js";import"./iconUtil.71342ca5.js";import"./SearchOutlined.d2d234c2.js";import"./button.ca276c4e.js";import"./Helmet.90e2ca49.js";import"./index.d4e5ccca.js";import"./index.bf34cfca.js";import"./isArrayLikeObject.9676d780.js";import"./get.ab779695.js";import"./identity.af5bbf98.js";import"./_copyArray.ed92a2fd.js";import"./index.9d56ca15.js";import"./row.04cc9265.js";import"./styleChecker.9486324a.js";import"./responsiveObserve.a761adf9.js";import"./index.27788710.js";import"./parser.542c3b4e.js";import"./index.4ef503cf.js";import"./workbenchContext.4d536977.js";import"./index.e3184aa5.js";import"./index.21d0aee3.js";import"./utils.435ff07e.js";import"./DialogWrap.ed68ac9f.js";import"./index.e073bbb6.js";import"./path.02380b0b.js";import"./Editor.88c5e82e.js";import"./use-immer.module.72e4ecef.js";import"./index.70ebfd77.js";import"./stackblitz.d6583d31.js";import"./index.46a9404e.js";import"./dayjs.min.9104a23a.js";import"./DoubleRightOutlined.d12d812f.js";import"./index.93b57069.js";import"./EyeOutlined.8d71b64e.js";import"./index.e257c064.js";import"./RightOutlined.ce6e99f7.js";import"./Sider.4bd14ece.js";import"./index.114f7a19.js";import"./main.6509447f.js";import"./index.e939beeb.js";import"./index.c6a78d56.js";import"./index.5c556af0.js";import"./utils.02fb0c25.js";import"./DeleteOutlined.ab1eeec0.js";import"./index.22218f67.js";import"./main.5d92847d.js";var k=Object.defineProperty,a=(v,w)=>k(v,"name",{value:w,configurable:!0});function V(v,w){return w.forEach(function(i){i&&typeof i!="string"&&!Array.isArray(i)&&Object.keys(i).forEach(function(h){if(h!=="default"&&!(h in v)){var O=Object.getOwnPropertyDescriptor(i,h);Object.defineProperty(v,h,O.get?O:{enumerable:!0,get:function(){return i[h]}})}})}),Object.freeze(Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}))}a(V,"_mergeNamespaces");var L={exports:{}};(function(v,w){(function(i){i(z.exports,K.exports,U.exports)})(function(i){i.defineOption("search",{bottom:!1});function h(e,t){return typeof e=="string"?e=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t?"gi":"g"):e.global||(e=new RegExp(e.source,e.ignoreCase?"gi":"g")),{token:function(r){e.lastIndex=r.pos;var n=e.exec(r.string);if(n&&n.index==r.pos)return r.pos+=n[0].length||1,"searching";n?r.pos=n.index:r.skipToEnd()}}}a(h,"searchOverlay");function O(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}a(O,"SearchState");function x(e){return e.state.search||(e.state.search=new O)}a(x,"getSearchState");function N(e){return typeof e=="string"&&e==e.toLowerCase()}a(N,"queryCaseInsensitive");function S(e,t,r){return e.getSearchCursor(t,r,{caseFold:N(t),multiline:!0})}a(S,"getSearchCursor");function $(e,t,r,n,o){e.openDialog(t,n,{value:r,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){b(e)},onKeyDown:o,bottom:e.options.search.bottom})}a($,"persistentDialog");function P(e,t,r,n,o){e.openDialog?e.openDialog(t,o,{value:n,selectValueOnOpen:!0,bottom:e.options.search.bottom}):o(prompt(r,n))}a(P,"dialog");function F(e,t,r,n){e.openConfirm?e.openConfirm(t,n):confirm(r)&&n[0]()}a(F,"confirmDialog");function _(e){return e.replace(/\\([nrt\\])/g,function(t,r){return r=="n"?`
`:r=="r"?"\r":r=="t"?"	":r=="\\"?"\\":t})}a(_,"parseString");function C(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);if(t)try{e=new RegExp(t[1],t[2].indexOf("i")==-1?"":"i")}catch{}else e=_(e);return(typeof e=="string"?e=="":e.test(""))&&(e=/x^/),e}a(C,"parseQuery");function R(e,t,r){t.queryText=r,t.query=C(r),e.removeOverlay(t.overlay,N(t.query)),t.overlay=h(t.query,N(t.query)),e.addOverlay(t.overlay),e.showMatchesOnScrollbar&&(t.annotate&&(t.annotate.clear(),t.annotate=null),t.annotate=e.showMatchesOnScrollbar(t.query,N(t.query)))}a(R,"startSearch");function d(e,t,r,n){var o=x(e);if(o.query)return D(e,t);var p=e.getSelection()||o.lastQuery;if(p instanceof RegExp&&p.source=="x^"&&(p=null),r&&e.openDialog){var c=null,f=a(function(l,y){i.e_stop(y),l&&(l!=o.queryText&&(R(e,o,l),o.posFrom=o.posTo=e.getCursor()),c&&(c.style.opacity=1),D(e,y.shiftKey,function(g,m){var u;m.line<3&&document.querySelector&&(u=e.display.wrapper.querySelector(".CodeMirror-dialog"))&&u.getBoundingClientRect().bottom-4>e.cursorCoords(m,"window").top&&((c=u).style.opacity=.4)}))},"searchNext");$(e,Q(e),p,f,function(l,y){var g=i.keyName(l),m=e.getOption("extraKeys"),u=m&&m[g]||i.keyMap[e.getOption("keyMap")][g];u=="findNext"||u=="findPrev"||u=="findPersistentNext"||u=="findPersistentPrev"?(i.e_stop(l),R(e,x(e),y),e.execCommand(u)):(u=="find"||u=="findPersistent")&&(i.e_stop(l),f(y,l))}),n&&p&&(R(e,o,p),D(e,t))}else P(e,Q(e),"Search for:",p,function(l){l&&!o.query&&e.operation(function(){R(e,o,l),o.posFrom=o.posTo=e.getCursor(),D(e,t)})})}a(d,"doSearch");function D(e,t,r){e.operation(function(){var n=x(e),o=S(e,n.query,t?n.posFrom:n.posTo);!o.find(t)&&(o=S(e,n.query,t?i.Pos(e.lastLine()):i.Pos(e.firstLine(),0)),!o.find(t))||(e.setSelection(o.from(),o.to()),e.scrollIntoView({from:o.from(),to:o.to()},20),n.posFrom=o.from(),n.posTo=o.to(),r&&r(o.from(),o.to()))})}a(D,"findNext");function b(e){e.operation(function(){var t=x(e);t.lastQuery=t.query,t.query&&(t.query=t.queryText=null,e.removeOverlay(t.overlay),t.annotate&&(t.annotate.clear(),t.annotate=null))})}a(b,"clearSearch");function s(e,t){var r=e?document.createElement(e):document.createDocumentFragment();for(var n in t)r[n]=t[n];for(var o=2;o<arguments.length;o++){var p=arguments[o];r.appendChild(typeof p=="string"?document.createTextNode(p):p)}return r}a(s,"el");function Q(e){return s("",null,s("span",{className:"CodeMirror-search-label"},e.phrase("Search:"))," ",s("input",{type:"text",style:"width: 10em",className:"CodeMirror-search-field"})," ",s("span",{style:"color: #888",className:"CodeMirror-search-hint"},e.phrase("(Use /re/ syntax for regexp search)")))}a(Q,"getQueryDialog");function j(e){return s("",null," ",s("input",{type:"text",style:"width: 10em",className:"CodeMirror-search-field"})," ",s("span",{style:"color: #888",className:"CodeMirror-search-hint"},e.phrase("(Use /re/ syntax for regexp search)")))}a(j,"getReplaceQueryDialog");function A(e){return s("",null,s("span",{className:"CodeMirror-search-label"},e.phrase("With:"))," ",s("input",{type:"text",style:"width: 10em",className:"CodeMirror-search-field"}))}a(A,"getReplacementQueryDialog");function I(e){return s("",null,s("span",{className:"CodeMirror-search-label"},e.phrase("Replace?"))," ",s("button",{},e.phrase("Yes"))," ",s("button",{},e.phrase("No"))," ",s("button",{},e.phrase("All"))," ",s("button",{},e.phrase("Stop")))}a(I,"getDoReplaceConfirm");function T(e,t,r){e.operation(function(){for(var n=S(e,t);n.findNext();)if(typeof t!="string"){var o=e.getRange(n.from(),n.to()).match(t);n.replace(r.replace(/\$(\d)/g,function(p,c){return o[c]}))}else n.replace(r)})}a(T,"replaceAll");function E(e,t){if(!e.getOption("readOnly")){var r=e.getSelection()||x(e).lastQuery,n=t?e.phrase("Replace all:"):e.phrase("Replace:"),o=s("",null,s("span",{className:"CodeMirror-search-label"},n),j(e));P(e,o,n,r,function(p){!p||(p=C(p),P(e,A(e),e.phrase("Replace with:"),"",function(c){if(c=_(c),t)T(e,p,c);else{b(e);var f=S(e,p,e.getCursor("from")),l=a(function(){var g=f.from(),m;!(m=f.findNext())&&(f=S(e,p),!(m=f.findNext())||g&&f.from().line==g.line&&f.from().ch==g.ch)||(e.setSelection(f.from(),f.to()),e.scrollIntoView({from:f.from(),to:f.to()}),F(e,I(e),e.phrase("Replace?"),[function(){y(m)},l,function(){T(e,p,c)}]))},"advance"),y=a(function(g){f.replace(typeof p=="string"?c:c.replace(/\$(\d)/g,function(m,u){return g[u]})),l()},"doReplace");l()}}))})}}a(E,"replace"),i.commands.find=function(e){b(e),d(e)},i.commands.findPersistent=function(e){b(e),d(e,!1,!0)},i.commands.findPersistentNext=function(e){d(e,!1,!0,!0)},i.commands.findPersistentPrev=function(e){d(e,!0,!0,!0)},i.commands.findNext=d,i.commands.findPrev=function(e){d(e,!0)},i.commands.clearSearch=b,i.commands.replace=E,i.commands.replaceAll=function(e){E(e,!0)}})})();var B=L.exports,ot=V({__proto__:null,default:B},[L.exports]);export{ot as s};
