import{b as re}from"./context.4fcda71f.js";import{g as ae,h as se,A as g,S as A}from"./StatusDirective.e97d8b3b.js";import{x as r}from"./x6.56983500.js";import{R as ie,r as I,a as l}from"./index.64257940.js";import{g as oe}from"./index.3992c1fc.js";import"./Portal.bf2e5144.js";import"./type.4482a080.js";import"./_baseIsEqual.ae1f3f6e.js";import"./omit.173224d8.js";import"./index.5b2f5049.js";import"./Dropdown.66094b27.js";import"./index.61964446.js";import"./Overflow.ff04d686.js";import"./statusUtils.e7207d24.js";import"./PlusOutlined.3088ee84.js";import"./Tree.0082570b.js";import"./isSymbol.d728fe31.js";import"./index.39cec35d.js";import"./pickAttrs.91b30b21.js";import"./conductUtil.91a30912.js";import"./iconUtil.71342ca5.js";import"./SearchOutlined.d2d234c2.js";import"./button.ca276c4e.js";import"./Helmet.90e2ca49.js";import"./index.d4e5ccca.js";import"./index.bf34cfca.js";import"./isArrayLikeObject.9676d780.js";import"./get.ab779695.js";import"./identity.af5bbf98.js";import"./_copyArray.ed92a2fd.js";import"./index.9d56ca15.js";import"./row.04cc9265.js";import"./styleChecker.9486324a.js";import"./responsiveObserve.a761adf9.js";import"./index.27788710.js";import"./parser.542c3b4e.js";import"./index.4ef503cf.js";import"./workbenchContext.4d536977.js";import"./index.e3184aa5.js";import"./index.21d0aee3.js";import"./utils.435ff07e.js";import"./DialogWrap.ed68ac9f.js";import"./index.e073bbb6.js";import"./path.02380b0b.js";import"./Editor.88c5e82e.js";import"./use-immer.module.72e4ecef.js";import"./index.70ebfd77.js";import"./stackblitz.d6583d31.js";import"./index.46a9404e.js";import"./dayjs.min.9104a23a.js";import"./DoubleRightOutlined.d12d812f.js";import"./index.93b57069.js";import"./EyeOutlined.8d71b64e.js";import"./index.e257c064.js";import"./RightOutlined.ce6e99f7.js";import"./Sider.4bd14ece.js";import"./index.114f7a19.js";import"./main.6509447f.js";import"./index.e939beeb.js";import"./index.c6a78d56.js";import"./index.5c556af0.js";import"./utils.02fb0c25.js";import"./DeleteOutlined.ab1eeec0.js";import"./index.22218f67.js";import"./main.5d92847d.js";const ne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAAAgCAMAAACsJD/tAAACdlBMVEUAAAB4xf/B5v9Km/qV0f9MnPvB5f9LnPtLnftPnvtWof7N7v9rtf9Rn/tImfpLnPpMnPpMnPtMnPpSofxToPxLnPxRn/xOoP9Oof+AwP9QnvtJmvtJmvlPnfvC5P/C5f9OnfrC5v+Qxv/B5v/A5f9MnPlLnfvB5v9ssf5Rov/J5//K6v/L9//B5f9rsPxOnfvB5f9Jm/tKm/rB5f/B5f9Qn/rC5f9KnPlOnvqv2P/C5f9JmvnB5f9KmvpxtP3D5v9LnPqIw/2n1f9MnPu/4/9Mnfp4t/1Mm/tPn/y+4v9Lnfx+vf/D5v/F5P+azv9Nnv/e9P/f9v/F6P9PpP/G7P+Iwf14uP1mrPzq9//A5f+Rx/5Wo/tNnPvB5P+FwP2bzv6+4f9bpvvw+P/x+f+Bvf1prfyh0f+13v+YzP5nrPvC5v+f0P6Dv/xqrvtvsftztftUovvC5v+Mxf5gqPyEwPxLm/pSn/thqPuLxP6j0v+q1/9Xo/qUyf2l1P1cp/xZpftlrPuAvv3D5v+o1f9ytP2p1v1RoPtjq/ve7/9WpPut2v+Cv/3C5v+k1P+j0f+Rxv/B5v/z+/+OxP+u2f/D6P+i0f9utP99u/+ayv93u//B5f9KmvlLm/pMnPpOnfpJmvtImflYpPtPnvqdz/6Oxf14uPxVofqk0/6azf6Xy/1usfxys/tep/tToPpRn/pPnfqp1v6h0f6Rx/2Iwv2Bvf2Kw/x+u/x7ufxiqftbpfrn9P++4v+n1f50tfxkq/vN6P+54P+z3P+w2v+13P6r2P6Uyf2UyfyDvvxrsPtprvtorfvw+f/b7//Q6f/D5P/Y7f6Ev/yEvvwR2QNVAAAAmnRSTlMABPz0Bsu0gXo6KRcJ5c+zqXRcVVJJNCIeDf373sS/r5xycGheWkFAPBoUEAn4+PTx6+bk29vY1tHMt62iopeWlpSQiIBtZWReV09HMzAnJiIbFhUN/Pv49fPy8fDt7evp6Ofm4eDe3dXSzczKysjHxcPBv7u3tbOwr6ukopmTkI6Jh4eEg358c3NtbGVfWUhGQj08NzczLSseDjvkSAAAAwpJREFUSMe11WVTG0EYwPEnnuAOxd29pbg7tEipu7u7u7tLTgluCe6uhVL7Rt1NMjDQ4Jd/8iLJTH7zzN7eLfzfere4484bQR9t8HTZJZfL+WJYYjJj+wgzcxkP5s7f4xwf2UHil4aw1GyMlQoVTQkumduCzt6Ksc2P8VzmuthmuRpTFEEQJhI7mBXPY40ctdbNH1aSgbmIYAjWwdR6xs/ZatzZB1ZeviScYVjGxHt6zcXqyRHOSTwLE4Zg2Fg/7UZcjfW4QOAubxOCJcJkgDJU6/eB03ip6BIIbNAnF6zHANeZoSvgyIMAPuY/cs5bsGgP5cA6Oc6Qcz6eYVlCquU9uNalaHaGyQRhKOZDfTjFDZwoEu0dQRFAmhzHTyyEBcpMX5wttLxsr6BIknCwwN+c5er4Lp4BMF+ulJnRgvYqyxs76pRKBU1RAi/ABYg1flf/QHTK6zyYKxFFRRrMRxv5PrnQUVxcXl5ep1TRTvmgzW2bRh/ubiip2n4++UXuNx3/DiFJEk2ke2jfjITTwRO97bXIx3yEJUxnmBgk7x8arK8oqWosbRprK6sJPnbl9jMrG7/p88GOpJBPJAlnTpz3xj354sHmtrKemurv41r/rNXsYyrtCNYrR5DeWlZTPdHeUY5WkLY3Fpm6pqZ7WdtkYRy9RXaAKsh+/ujWtRN7qkYbS1ua/jS3anw8/747OpfwQ8rhytHSlr9YH2+vLa5TKWgURdEUisTDE7gwa4CnP38NDddXNJRUVo3M8A/d9YU5++p+dXdzWU/1eC/WVSqs09jGL/X0iGcJSeDWSex3Y18z/xjyN595+BkW6ktGwqkttR11CgWt0OrY1+A4hmWdOjsn+7oG6run5t908l7uqkU/Tw2sHptFhdAotT01Or4XCdbRcv+Pzt99XYMa/+hN9/eIXnJFMgtpkmnUTrzw+KpqhneQGMG7A9jfG339watPKz6HjGxlVhI8O14ZU1vAFRZw+pTN0eiO1qCXpARKIBWCfopHeqwd6CsRGekN+ivcnAf6S+gHy+kfIR2B3CDjaKoAAAAASUVORK5CYII=",pe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAAAgCAMAAACsJD/tAAABuVBMVEUAAADFy93Hzd3Jz968wM3FzNzEydm3wM2boa/Hzd+ZoK6kqbi/xdTAxdXK1NqmrLuss8K1u8qjqrWiqrjI0OCcorGepLKfpbShp7ersL/Fy9uvtcWiprXAxtWqsL6sssGxtsazuci5v86wtcXGzN29wtPHzt6gp7XCydmdpLS7u9Wco7HBx9eepLKZn63DydmlrLqor76qsL/DydqsssGgp7bGzNyboa/DydmZn62qsL+6wNClq7q8wtKaoa7Fytq1u8rCxtmZnq3Bx9fEytqmrbzDytnEydm8wdCyuMfGzNy1u8rIzt21vMu9wtLFytqaoK6lq7q+xNOvtMTHzd6/xtWsscDFyt2ttMHCwtfAxtfAxdaorr2zuciZn6zBx9fByNi6wNChp7WcorGcoa+jqbefprSZn62gprWaoK+boa6mrLmmrbypr72fpLSeo7LI0ODIzt6mrLukqrm4v8+rsMCzucean6+5vs6yuMa0ucnFy9ujqbjGzd+YnqyiqLalq7qsssGaoK6do7GfpbO8wtGwtsW/xdW0usmqr76nrbyjqbeutMOorr22vMuyuMe4vs2corC5v8/Uti6/AAAAfnRSTlMAJW0mBTAeFPVu+sssGgq7mnEhHA/t5tzTp5yTQDzOpI2BamNfT05KQzkK8Ozh3NTDs66qn5WOgn14bmNdWVFJRjf0y7++tpaRh4N6dXVdWlhXVFRTSDg0Jhf69fTx6ebg3tfLvrSzsaqooZqKe25lYksr9PLm0sXBs7CvemhdXJTVAAAC1ElEQVRIx7XU51faUBjH8YcQEgdLpgyhCoiA4EBEKQJuW627jjpa696jeyF1tAqu+hf3uYnzuDV84Q1vPvd3LjmBq7GSaEcvDelILl79RWVmUoXwwFQmq2mxa+1WW9JLURTaEjk8NNkzq6Fc0agIhNVwbUwhRSoUP/JeWHOoQlGanZ07tXT1BKkdZ2facfdTUnfNZ+e+13tnzXAxMcGpXgaennpZoffqtF/OD3Bz12JnQKCcUzptRta0GrjYFXIvUSEfRdeEJyNr1AWYfAWflrYiELZgRla8jvirVFvVSzsI3Rz6PgAa8cpKRnC+E/l4BGSIG40awfmAB/1qYJqNRr8/KrS+pNMivwxg9P9oamiSCIqrZvQ6rSejjgXoaGpoqC8pqZLBHdlC97Np80J2rt6L8zvJr2bE370tLvZ33P4PKHcN7jttd1+ovLGUvBl0XtQxjRHxoTd/sfqWGhHclGU/aVm7dfZALKfCUF7Gvdj0Myo4iSrm8G3S8cevLQUxBq42nEgkPnTdIA9KY7b8ZyZlhdVQpsD5k044T9Y8dIIfHR0dHOzs7Ix8/mbK6emTwVmqRCKVWl8P0JdhOctI8xzPC3Jetea/QN9K5s+b4XKDVWPbx8doE/zw8A+2t/cb+2QpUy6Ewk5XOLWObW2Nq7m5Gg07KGPEktq8otfdNe3ER57MV9pUcE15LWNIo31IbB7f3d1PJpMJjMc3Nzf/aZ0AGpFYxH0l/cg7umtO5+f3DMCNSXO+jxD8zN5HndgpbvgW4htYEBAWi8hHSuZHHdz8VltMBncltSktxCb4heFo83gcm5Dgcs4/nd/uqGVouG8DPYsGyzBvnw3nccwXEWF4Aj+/X8qwSD84ti/8MzCZ6yHDN3gbywq6Qc7fPSNjNXJ4am6VKxJEnGtaBSSaBiGL8LjPCWmpmuB11TSkpznUZ9WQrsbjPjOkr1G8l/RFs/CY/gMIs9Pg1uhgrgAAAABJRU5ErkJggg==",fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAABaCAMAAABKW973AAABXFBMVEUAAADj7fv////////l7ffi5/Pj5/Ph5PPh5vHn5/fr6/X////m5v/9/v/k5fT////h5fTj5vH////r7ffk///////n7ffv7//m5vPr6//////////////////////////t7fbj5vL////o7Pfx8f/////j5/X////////k5/Tk5/Lj6fTi5fT////////////////////k5vP+/v/i5fL////i5vLk5/P////i5fPj5/T////////////i5fPi5vPk5/Pi5fLr7fbj5fL////j5vPj5vL////i5vL9/f7i5fLh5fL////i5vLh5fLt7/fj5vTj5vP////+/v/i5fLi5fLi5fP+/v/v8fn7/P38/P7h5PPz9Pn7+/7y8/rr7fb////4+f309fr09fn////v8Pf////u7vf///8SNv/09fr9/f76+v33+Pz2+P/Y3v+mtP9rgf86WP8cPv8doFkVAAAAaHRSTlMAEQcFHCs/Vm8fFPgK7jD7RVz8iAn1GQ0oC+vw5+3z6RY88SMPmTPUU0E4LVjNrY11TEwsppOLhG1qSDYxs3tmUbiNc3FtYFdP9tC9t56alltTUELGr5GGe2xfVda5tZN7Z/Tnw7++pRHoRzEAAAOhSURBVGje7dppU9pQFAZgAwFNpFAEkgBqSQMISFtZZBNZiiCWggvuW7Vr0FZR//9MbybRO3Lb6UxbTuIM7weGbzxz7wEOwzv27zGbzWOQIV/eZDK5taCneniQweblg9RDeN5rM0FBMMLLU2yAo1EYBj1wXICleJsJ1GF2e6kteTAONuiFdKCzoLgIyaADFKRDUTCHspoeisYQmEDQBsYwu/kAI5yTjLBAszzYcZhtFCeED0iGaJe4oBuKYfKyzLy4TzIKMYGmvGAMnpPCz10ko2K1MywPxkB3EksqjJveQ24QY6MQlgK8aQwkZjdFW8TKW8S4ur1X3F4hRiMZE7ggHIOZt45/kFGu71TF3bVyKeWmKHAUFMOGGNH4uqykrzL6ssLIb4oCDcdgGfvzDZWhjseNOqL1I6sFmOFULkUbDzQYSi4nxuEZyoiq44EGQ3+G3O/LRmDI8ojhXDcG4xu59ujB+EIwJvVgHBPfsHowGh8JxpoOjPULIzCSn0iGH55xekEynoEzQj8QY2D7AmekTr4jBrF9wTKkvbVLhUFsX3AM09LCV1m+fGDg7Wt4DHdASi11ExGU1cPzlbPQ8pxnakrGjIHta0gMbml1IfR+bvqFb8b/0uOZnJx0OAgG3r4gGLOzqoNg4O1rWIzAIwZ5Gnj7GjIjsrCIL8VDMrQAMJY1BjoNFD0YbHGQ4dCdob1THPAMqhhZMcBpUMWtlT/PRg9l6Iw3r19pjPt3yhQ0I4gZxKVAMlKJHMGAPw2eYBCzAc3wa7Ph0E6D3L4gGDPqiOLPjYvjU6jty5tKHCiMaZ/v8aWsnexXnC6I7QsztEvRRtT/OZTr0sqvNhfU9mWmi93V3N5iSMneWe4w0ZXwj0fX77cvkGAG3r50Z6jbl/4MZfsyAkOWR4wRw8iMHsqIMWIYlEFuX/AMYvvShUFuX/AMcvuCZYy2r9H29VS+YTd+wYD7cxxXBUiGD64qgIsTWZIBV5zANZJ9kgFXI8GlmkYt096pbm+/Q9luVdOd7ARcqQZXjOL50m47vVNttVrV6k66kymV4SpGuHCVdNZLmd1OO43S7uxmS/k4XOEK18+iTWe+VspmMyjZbKlWjifB6me4jIccyfFGOV+fqNUm6vmyc7MggpXxcDUROcRoobk5Hkc5qjQL0ZgdrpqIi5qMZLHHYqI1imIVY2G7RYIrauLaKosggmCxzKNYLILE0Nxf1VaffonXIJVmwxS8/2/d/SdGdeKKYaAs3QAAAABJRU5ErkJggg==",le="data:image/png;base64,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",he=20,x=410,X=80,Y=28,H=112,R=50,q=112,w=32,Q=130,S=46,j=14,m=14,B=20,v=20,K=(x-X)/2,z=(x-H)/2,y=(x-q)/2,ce=(x-Q)/2,T=(x-j)/2,b=(x-B)/2,ge=({globalHookState:d,hookState:o,directiveState:h,apiSetting:L,onEditHook:s})=>{const E=I.exports.useRef(null);return I.exports.useEffect(()=>(r.Graph.registerNode("terminal",{inherit:"rect",width:X,height:Y,attrs:{body:{strokeWidth:.5,stroke:"rgba(95, 98, 105, 0.6)",fill:"#F3F9FD",rx:14,ry:14},text:{fontSize:14,fill:"#333333"}}}),r.Graph.registerEdge("flowline",{zIndex:-1,attrs:{line:{stroke:"#1034FF",targetMarker:{name:"block",width:3,height:4}}}}),r.Graph.registerEdge("rejectArrow",{attrs:{line:{stroke:"#787D8B",targetMarker:{name:"block",width:3,height:4}}}}),r.Graph.registerNode("decision",{inherit:"polygon",width:H,height:R,attrs:{body:{strokeWidth:.5,stroke:"#F2B241",fill:"#ffffff",refPoints:"0,10 10,0 20,10 10,20"},text:{fontSize:14,fill:"#F3B13F"}}}),r.Graph.registerNode("process",{inherit:"rect",width:q,height:w,attrs:{body:{strokeWidth:.5,stroke:"rgba(95, 98, 105, 0.6)",fill:"#ffffff",rx:4,ry:4},text:{fontSize:14,fill:"#333333"}}}),r.Graph.registerNode("operation",{inherit:"rect",width:Q,height:S,attrs:{body:{strokeWidth:.5,stroke:{type:"linearGradient",attrs:{x1:"100%",y1:"100%",x2:"0%",y2:"0%"},stops:[{offset:"0%",color:"#FF9378"},{offset:"100%",color:"#E13D5B"}]},fill:{type:"linearGradient",attrs:{x1:"100%",y1:"0%",x2:"0%",y2:"100%"},stops:[{offset:"0%",color:"#FFF3F8"},{offset:"100%",color:"#FFDBDD"}]},rx:4,ry:4},text:{fontSize:14,fill:"#E92E5E"}}}),r.Graph.registerNode("globalHook",{inherit:"rect",width:B,height:v,markup:[{tagName:"image"}],attrs:{image:{"xlink:href":ae,width:B,height:v,refX:0,refY:0,filter:{name:"dropShadow",args:{color:"rgba(202,83,206,0.33)",dx:0,dy:2,blur:7}}}}}),r.Graph.registerNode("hook",{inherit:"rect",width:B,height:v,markup:[{tagName:"image"}],attrs:{image:{"xlink:href":se,width:B,height:v,refX:0,refY:0,filter:{name:"dropShadow",args:{color:"rgba(56,110,252,0.23)",dx:0,dy:2,blur:4}}}}}),r.Graph.registerNode("flowLabel",{inherit:"rect",height:m,attrs:{body:{fill:"#fff",strokeWidth:.3,stroke:"rgba(175, 176, 180, 0.6)",rx:7,ry:7},text:{fontSize:12,fill:"#6f6f6f"}}}),r.Graph.registerNode("router",{inherit:"rect",width:24,height:24,markup:[{tagName:"image"}],attrs:{image:{width:24,height:24,refX:0,refY:0,filter:{name:"dropShadow",args:{color:"rgba(69, 211, 142, 0.4)",dx:0,dy:3,blur:6}}}}}),r.Graph.registerEdge("reject",{router:{name:"oneSide",args:{side:"left",padding:128}},attrs:{line:{stroke:"#787D8B",strokeWidth:.5,strokeDasharray:"3 3",targetMarker:""}}}),r.Graph.registerNode("directiveTrigger",{inherit:"circle",zIndex:200,width:12,height:12,attrs:{body:{fill:{type:"linearGradient",attrs:{x1:"0",y1:"0%",x2:"100%",y2:"100%"},stops:[{offset:"0%",color:"#7CD4FC"},{offset:"100%",color:"#478FFF"}]},stroke:"",filter:{name:"dropShadow",args:{color:"rgba(105,187,253,0.43)",dx:0,dy:2,blur:3}}},text:{fontSize:12,fill:"#fff"}}}),r.Graph.registerNode("directive",{inherit:"rect",width:100,height:16,attrs:{body:{height:16,rx:8,ry:8,fill:"#A4BEE1",stroke:""},text:{fontSize:12,fill:"#fff"}}}),()=>{r.Graph.unregisterNode("terminal"),r.Graph.unregisterEdge("flowline"),r.Graph.unregisterEdge("rejectArrow"),r.Graph.unregisterNode("decision"),r.Graph.unregisterNode("process"),r.Graph.unregisterNode("operation"),r.Graph.unregisterNode("globalHook"),r.Graph.unregisterNode("hook"),r.Graph.unregisterNode("flowLabel"),r.Graph.unregisterNode("router"),r.Graph.unregisterEdge("reject"),r.Graph.unregisterNode("directiveTrigger"),r.Graph.unregisterNode("directive")}),[]),I.exports.useEffect(()=>{const a=new r.Graph({container:E.current,mousewheel:{enabled:!0,zoomAtMousePosition:!0,modifiers:"ctrl",minScale:.5,maxScale:3},interacting:{nodeMovable:!1,edgeMovable:!1,edgeLabelMovable:!1,arrowheadMovable:!1,vertexMovable:!1,useEdgeTools:!1},background:{color:"#F8F9FD",image:oe,size:{width:22,height:22},repeat:"repeat"},autoResize:!0}),f=[],n=[],G=[],c=[];let e=he;const k=a.createNode({shape:"terminal",label:"\u5F00\u59CB\u8BF7\u6C42",x:K,y:e});if(f.push(k),n.push(k),e+=16+Y,d.onRequest){const t={shape:"globalHook",x:b,y:e},i=new g(t,[{shape:"react-shape",width:114,height:20,component:l(A,{enabled:d.onRequest.enable,label:"onRequest",onDoubleClick:()=>s==null?void 0:s(d.onRequest)}),x:290,y:e}],"arrow");c.push(i),e+=10+v}if(h.fromClaim||L.authenticationRequired){const t=a.createNode({shape:"decision",label:"\u767B\u5F55\u6821\u9A8C?",x:z,y:e});if(n.push(t),h.fromClaim){const p=new g({shape:"directiveTrigger",label:"1",x:258,y:e+19},[{shape:"directive",label:"@fromClaim",width:84,height:16,x:290,y:e+17}],"linear");c.push(p)}e+=7+R;const i=a.createNode({shape:"flowLabel",label:"Y",width:j,height:m,x:T,y:e});f.push(t,i),G.push([t,"401"]),e+=8+m}if(h.rbac){const t=a.createNode({shape:"decision",label:"\u6388\u6743\u6821\u9A8C?",x:z,y:e});n.push(t),G.push([t,"401"]);const i=new g({shape:"directiveTrigger",label:"1",x:258,y:e+19},[{shape:"directive",label:"@rbac",width:64,height:16,x:300,y:e+17}],"linear");c.push(i),e+=7+R;const p=a.createNode({shape:"flowLabel",label:"Y",width:j,height:m,x:T,y:e});f.push(t,p)}if(h.jsonSchema){e+=8+m;const t=a.createNode({shape:"decision",label:"\u5165\u53C2\u6821\u9A8C?",x:z,y:e});n.push(t),G.push([t,"400"]);const i=new g({shape:"directiveTrigger",label:"1",x:258,y:e+19},[{shape:"directive",label:"@jsonSchema",width:88,height:16,x:290,y:e+17}],"linear");c.push(i),e+=7+R;const p=a.createNode({shape:"flowLabel",label:"Y",width:j,height:m,x:T,y:e});f.push(t,p),e+=8+m}if(h.injectCurrentDatetime||h.injectEnvironmentVariable||h.injectGeneratedUUID){const t=a.createNode({shape:"process",label:"\u53C2\u6570\u6CE8\u5165",x:y,y:e});n.push(t);const i=new g({shape:"directiveTrigger",label:"3",x:258,y:e},[{shape:"directive",label:"@EnvironmentVariable",width:128,height:16,x:280,y:e-40},{shape:"directive",label:"@GeneratedUUID",width:110,height:16,x:290,y:e},{shape:"directive",label:"@CurrentDatetime",width:110,height:16,x:290,y:e+40}],"linear");c.push(i),e+=7+w,f.push(t)}const P=a.createNode({shape:"router",x:(x-54)/2,y:e,attrs:{image:{width:54,height:36,"xlink:href":o.mockResolve.enable?le:fe}}});f.push(P);const W=n.push(P)-1;e+=12+36;const N=e-6,Z={shape:"hook",x:b,y:e},O=[{shape:"react-shape",width:114,height:20,component:l(A,{enabled:o.preResolve.enable,label:"preResolve",onDoubleClick:()=>s==null?void 0:s(o.preResolve)}),x:290,y:e-32},{shape:"react-shape",width:114,height:20,component:l(A,{enabled:o.customResolve.enable,label:"customResolve",onDoubleClick:()=>s==null?void 0:s(o.customResolve)}),x:290,y:e+16}];o.mutatingPreResolve.can&&O.splice(1,0,{shape:"react-shape",width:114,height:20,component:l(A,{enabled:o.mutatingPreResolve.enable,label:"mutatingPreResolve",onDoubleClick:()=>s==null?void 0:s(o.mutatingPreResolve)}),x:280,y:e-8});const J=new g(Z,O,"arrow");c.push(J),e+=14+v;const _=a.createNode({shape:"react-shape",width:88,height:20,x:30,y:e+94,component:l("div",{className:"rounded-xl h-5 text-xs text-center px-1 leading-5 ",style:{border:"1px solid rgb(233, 46, 94)",background:"linear-gradient(316deg, #FFF3F8 0%, #FFDBDD 100%)"},onDoubleClick:()=>s==null?void 0:s(o.mockResolve),children:"mockResolve"})}),U=a.createNode({shape:"operation",label:`\u6267\u884C
(Operation)`,x:ce,y:e});if(f.push(U),n.push(U),e+=12+S,h.transform){const t=a.createNode({shape:"process",label:"\u54CD\u5E94\u8F6C\u6362",x:y,y:e});f.push(t),n.push(t);const i=new g({shape:"directiveTrigger",label:"1",x:258,y:e+10},[{shape:"directive",label:"@transform",width:82,height:16,x:290,y:e+8}],"linear");e+=12+w,c.push(i)}const $={shape:"hook",x:b,y:e};new g($,[{shape:"react-shape",width:114,height:20,component:l(A,{enabled:o.postResolve.enable,label:"postResolve",onDoubleClick:()=>s==null?void 0:s(o.postResolve)}),x:290,y:e-12},{shape:"react-shape",width:114,height:20,component:l(A,{enabled:o.mutatingPostResolve.enable,label:"mutatingPostResolve",onDoubleClick:()=>s==null?void 0:s(o.mutatingPostResolve)}),x:280,y:e+12}],"arrow").addToGraph(a),e+=14+v;const F=e-6;if(L.liveQueryEnable){const t=(F-N)/2+N,i=o.mockResolve.enable,p=new r.Shape.Rect({x:b,y:N,width:0,height:0}),u=new r.Shape.Rect({x:y-40,y:t-12,width:0,height:0}),C=new r.Shape.Rect({x:y-40,y:t+12,width:0,height:0}),V=new r.Shape.Rect({x:b,y:F,width:0,height:0});a.addNodes([p,V,u,C]),a.addEdge({source:p,target:u,connector:{name:"rounded",args:{radius:100}},vertices:[{x:u.getBBox().x,y:N}],attrs:{line:{stroke:{type:"linearGradient",attrs:{x1:"0%",y1:"0%",x2:"100%",y2:"0%"},stops:[{offset:"0%",color:i?"rgba(179, 186, 204, 0.2)":"rgba(71, 143, 255, 0.2)"},{offset:"100%",color:i?"rgba(179, 186, 204, 0.5)":"rgba(71, 143, 255, 0.5)"}]},strokeWidth:2,targetMarker:""}}}),a.addEdge({source:C,target:V,connector:{name:"rounded",args:{radius:100}},vertices:[{x:C.getBBox().x,y:F}],attrs:{line:{stroke:{type:"linearGradient",attrs:{x1:"0%",y1:"0%",x2:"100%",y2:"0%"},stops:[{offset:"0%",color:i?"rgba(179, 186, 204, 0.5)":"rgba(71, 143, 255, 0.5)"},{offset:"100%",color:i?"rgba(179, 186, 204, 1)":"rgba(71, 143, 255, 1)"}]},strokeWidth:2,targetMarker:{name:"block",fill:i?"#B3BACC":"#478FFF",width:9,height:12}}}}),a.addNode({inherit:"rect",x:u.getBBox().x-23,y:u.getBBox().y+6,width:47,height:16,markup:[{tagName:"image"}],attrs:{image:{height:16,width:47,"xlink:href":i?pe:ne}}}),a.addNode({x:u.getBBox().x-20,y:u.getBBox().y,width:40,height:12,attrs:{body:{fill:"transparent",stroke:"transparent"},label:{fontSize:11,stroke:i?"#B3BACC":"#478FFF",text:`${L.liveQueryPollingIntervalSeconds}s`}}})}const ee={shape:"globalHook",x:b,y:e},te=new g(ee,[{shape:"react-shape",width:114,height:20,component:l(A,{enabled:d.onResponse.enable,label:"onResponse",onDoubleClick:()=>s==null?void 0:s(d.onResponse)}),x:290,y:e}],"arrow");c.push(te),e+=12+v;const D=a.createNode({shape:"process",label:"\u53D1\u9001\u54CD\u5E94\u5230\u5BA2\u6237\u7AEF",width:144,height:w,x:y-(144-q)/2,y:e});f.push(D),n.push(D),e+=20+w;const M=a.createNode({shape:"terminal",label:"\u7ED3\u675F",x:K,y:e});return f.push(M),n.push(M),a.addNodes(f),a.addEdge({shape:"reject",source:P,target:D,router:{name:"oneSide",args:{side:"left",padding:60}},...o.mockResolve.enable?{stroke:"#1034FF",attrs:{line:{stroke:"#1034FF",strokeWidth:1,strokeDasharray:"3 0",targetMarker:""}}}:{}}),a.addEdge({shape:"rejectArrow",source:{x:100,y:P.getBBox().y+18},target:{x:96,y:P.getBBox().y+18},...o.mockResolve.enable?{attrs:{line:{stroke:"#1034FF"}}}:{}}),a.addNode(_),a.addEdges(n.reduce((t,i,p)=>(p<n.length-1&&t.push({shape:"flowline",source:i,target:n[p+1],...o.mockResolve.enable&&p>=W&&p!==n.length-2?{attrs:{line:{stroke:"#787D8B",strokeWidth:.5,strokeDasharray:"3 3",targetMarker:""}}}:p===W-1?{attrs:{line:{targetMarker:""}}}:{}}),t),[])),G.forEach(t=>{const i=t[0].getBBox();a.addEdge({shape:"reject",source:t[0],target:M}),a.addNode({shape:"flowLabel",label:t[1],width:24,height:m,x:80,y:i.y+18}),a.addEdge({shape:"rejectArrow",source:{x:64,y:i.y+25},target:{x:60,y:i.y+25}})}),c.forEach(t=>t.addToGraph(a)),()=>{console.log("dispose FlowChart"),a.dispose()}},[h,o,d,L,s]),l("div",{className:"flex flex-shrink-0 w-full overflow-x-auto overflow-y-hidden !h-full",children:l("div",{className:"flex-1 min-h-175 min-w-102",ref:E})})},Lt=ie.memo(ge,(d,o)=>re(d,o));export{Lt as default};
